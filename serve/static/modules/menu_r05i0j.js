/**/_jsload2&&_jsload2('menu', 'x.object.extend(Zc.prototype,{za:function(a,b){if(this.R)return t;this.P=a;this.Kl=b||s;this.Ha();var c=this,e=a.M.Ac;b&&b.K.mf&&(e="pointer");this.R.style.cursor=e;this.Id&&(this.Id.style.cursor=e);x.V(document,"mousedown",function(){c.R&&c.aa()});x.V(this.R,"click",function(a){c.aa();oa(a)});e=this.m.cb;e||(e=a.cb);this.Kl?this.Kl.addEventListener("rightclick",function(a){c.R&&c.hJ(a)}):a.addEventListener("rightclickex",function(a){c.R&&(!a.xb&&!a.Fb)&&c.hJ(a)});for(var e=0,f=this.Da.length;e<f;e++)"menuitem"== this.Da[e].Nb&&this.Da[e].za(a,this),"divider"==this.Da[e].Nb&&(this.Ke[this.Da[e].Vj].U=Gb(this.R,"<div class=\'BMap_cmDivider\'></div>"));this.$r()},ob:function(){this.P&&(this.za(this.P,this.Kl),this.Qh&&(this.Qh=t,this.show()))},remove:function(){this.R&&(this.R.parentNode.removeChild(this.R),this.R=s);this.Id&&(this.Id.parentNode.removeChild(this.Id),this.Id=s);for(var a=0,b=this.Da.length;a<b;a++)"menuitem"==this.Da[a].Nb&&(this.Da[a].R=s);this.P=this.Kl=s},Ha:function(){this.R=Gb(this.P.cb,"<div unselectable=\'on\'></div>"); this.R.className="BMap_contextMenu";var a=this.R.style;a.font="12px "+J.fontFamily;9>x.ga.oa?this.Id=Gb(this.P.cb,"<div class=\'BMap_cmShadow\'></div>"):a.kV=a.AP=a.WebkitBoxShadow="1px 2px 6px #666";return this.R},es:function(a){if(a&&!("menuitem"!=a.Nb||""==a.ih||0>=a.fj)){for(var b=0,c=this.Da.length;b<c;b++)if(this.Da[b]===a)return;this.Da.push(a);this.Pf.push(a);this.P&&(a.za(this.P,this),x.U.ib(a.dd(),"BMap_cmLstItem"),1<this.Da.length?"menuitem"==this.Da[this.Da.length-2].Nb&&x.U.rc(this.Da[this.Da.length- 2].dd(),"BMap_cmLstItem"):"menuitem"==this.Da[0].Nb&&x.U.ib(this.Da[0].dd(),"BMap_cmFstItem"),this.$r())}},removeItem:function(a){if(a&&"menuitem"==a.Nb){for(var b=0,c=this.Da.length;b<c;b++)this.Da[b]===a&&(this.Da[b].remove(),this.Da.splice(b,1),c--);b=0;for(c=this.Pf.length;b<c;b++)this.Pf[b]===a&&(this.Pf[b].remove(),this.Pf.splice(b,1),c--);this.R&&(0<this.Da.length&&"menuitem"==this.Da[this.Da.length-1].Nb&&x.U.ib(this.Da[this.Da.length-1].dd(),"BMap_cmLstItem"),this.$r())}},VB:function(){this.Da.push({Nb:"divider", Vj:this.Ke.length});this.Ke.push({U:s});this.R&&(this.Ke[this.Ke.length-1].U=Gb(this.R,"<div class=\'BMap_cmDivider\'></div>"),this.$r())},bF:function(a){if(this.Ke[a]){this.Ke[a].U&&this.Ke[a].U.parentNode&&this.Ke[a].U.parentNode.removeChild(this.Ke[a].U);for(var b=0,c=this.Da.length;b<c;b++)this.Da[b]&&("divider"==this.Da[b].Nb&&this.Da[b].Vj==a)&&(this.Da.splice(b,1),c--),this.Da[b]&&("divider"==this.Da[b].Nb&&this.Da[b].Vj>a)&&this.Da[b].Vj--;this.Ke.splice(a,1);this.$r()}},va:function(a,b){this.R.style.left= a+"px";this.R.style.top=b+"px";this.Id&&(this.Id.style.left=a+1+"px",this.Id.style.top=b+2+"px")},show:function(){if(this.Qh!=q&&0!=this.Pf.length){this.Qh=q;this.R&&(this.R.style.visibility="visible");this.Id&&(this.Id.style.visibility="visible");var a=new O("onopen");a.point=this.Yw;a.pixel=this.vs;this.dispatchEvent(a)}},aa:function(){if(this.Qh!=t){this.Qh=t;this.R&&(this.R.style.visibility="hidden");this.Id&&(this.Id.style.visibility="hidden");var a=new O("onclose");a.point=this.Yw;a.pixel=this.vs; this.dispatchEvent(a)}},B_:function(a){if(a&&(this.m.cursor=a,this.R&&(this.R.style.cursor=this.m.cursor),this.Id))this.Id.style.cursor=this.m.cursor},$r:function(){this.R&&this.Id&&(this.Id.style.width=this.R.offsetWidth+"px",this.Id.style.height=this.R.offsetHeight+"px")},hJ:function(a){if(0!=this.Pf.length){this.vs=a.ab;this.Yw=this.P.pg(this.vs);var b=this.dd().offsetHeight,c=this.dd().offsetWidth,e=a.ab.x,f=a.ab.y;a.ab.x+c>this.P.width&&(e=a.ab.x-c);a.ab.y+b>this.P.height&&(f=a.ab.y-b);this.va(e, f);this.show()}}});U(Sg,{addItem:Sg.es,removeItem:Sg.removeItem,addSeparator:Sg.VB,removeSeparator:Sg.bF});x.object.extend(cd.prototype,{za:function(a,b){if(this.R)return t;this.P=a;this.Lh=b;b.dd()&&(this.Ha(),this.ha(),this.Oh||(this.Oh=q,this.disable()));return q},remove:function(){this.R&&(this.R.parentNode.removeChild(this.R),this.R=s);this.P=this.Lh=s},ob:function(){this.Lh&&this.P&&this.za(this.P,this.Lh)},Ha:function(){var a=this.m.Lm?"<div"+(this.m.id?" id=\'"+this.m.id+"\'":"")+" unselectable=\'on\'><div style=\'width: 17px;height: 17px;margin-right: 3px;display: inline-block;zoom: 1;*display: inline;vertical-align: middle;background: url("+ this.m.Lm+") no-repeat;\'></div><span style=\'vertical-align: middle;\'>"+this.ih+"</span></div>":"<div"+(this.m.id?" id=\'"+this.m.id+"\'":"")+" unselectable=\'on\'><span>"+this.ih+"</span></div>";this.R=Gb(this.Lh.dd(),a);this.m.Lm?(this.Av=this.R.firstChild,this.Vr=this.R.lastChild):this.Vr=this.R;a=this.R.style;a.padding="2px 6px";a.margin="0 2px";a.fontSize="14px";a.MozUserSelect="none";a.lineHeight="17px";a.width=this.m.width+"px";this.Oh?(a.color="#000",a.cursor="pointer"):(a.color="#aaa",a.cursor= this.P.M.Ac);return this.R},ha:function(){var a=this;x.V(this.R,"click",function(b){a.Oh?a.zz&&a.zz.call&&a.zz.call(a,a.Lh.Yw,a.Lh.vs,a.Lh.Kl):oa(b)});x.V(this.R,"mousedown",function(a){oa(a)});x.V(this.R,"mouseover",function(){a.Oh&&(a.R.style.color="#6688cc")});x.V(this.R,"mouseout",function(){a.Oh&&(a.R.style.color="#000")})},gu:function(a){a&&(this.ih=a+"",this.Vr&&(this.Vr.innerHTML="<span>"+this.ih+"</span>"))},Wb:function(a){a&&(this.m.Lm=a,this.Av?this.Av.style.background="url("+a+")":(this.R.innerHTML= "<div"+(this.m.id?" id=\'"+this.m.id+"\'":"")+" unselectable=\'on\'><div style=\'width: 17px;height: 17px;margin-right: 3px;display: inline-block;zoom: 1;*display: inline;vertical-align: middle;background: url("+this.m.Lm+") no-repeat;\'></div><span style=\'vertical-align: middle;\'>"+this.ih+"</span></div>",this.Av=this.R.firstChild,this.Vr=this.R.lastChild))},enable:function(){this.Oh=q;this.R&&(this.R.style.color="#000",this.R.style.cursor="pointer")},disable:function(){this.Oh=t;this.R&&(this.R.style.color= "#aaa",this.R.style.cursor=this.P.M.Ac)}});U(Tg,{setIcon:Tg.Wb,setText:Tg.gu,enable:Tg.enable,disable:Tg.disable}); ');
