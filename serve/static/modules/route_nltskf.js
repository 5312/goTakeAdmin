/**/_jsload2&&_jsload2('route', 'var Hi={web:"http://api.map.baidu.com/direction?",android:"bdapp://map/direction?",ios:"baidumap://map/direction?"};function Ii(a){this.city=a.city;this.ew=a.start;this.kv=a.end;this.Pl=a.Op;this.moreResultsUrl=a.url;this.taxiFare=a.n6||s;this.pU=a.d0||Re;this.xR=a.RW||Re}x.extend(Ii.prototype,{uf:u("ew"),ze:u("kv"),$X:u("pU"),uX:u("xR"),op:function(){return this.Pl.length},ed:function(a){if(this.Pl&&0<this.Pl.length&&this.Pl[a])return this.Pl[a]}}); function Ji(a){Ii.call(this,a);this.policy=a.Rd}x.xa(Ji,Ii,"DrivingRouteResult");function Ki(a){Ii.call(this,a)}x.xa(Ki,Ii,"WalkingRouteResult");function Li(a){Ii.call(this,a)}x.xa(Li,Ii,"RidingRouteResult");function Mi(a){Ii.call(this,a);this.waypoints=a.a1||[]}x.xa(Mi,Ii,"TruckRouteResult");function Ni(a){Ii.call(this,a);this.policy=a.Rd;this.transitType=a.KO;this.intercityPolicy=a.Nm;this.transitTypePolicy=a.qn}x.xa(Ni,Ii,"TransitRouteResult");x.extend(Ni.prototype,{hY:u("transitType")}); var Oi=Ni.prototype;U(Oi,{getTransitType:Oi.hY});var Pi=Ii.prototype;U(Pi,{getStart:Pi.uf,getEnd:Pi.ze,getStartStatus:Pi.$X,getEndStatus:Pi.uX,getNumPlans:Pi.op,getPlan:Pi.ed});function Qi(a){this.Xh=a.Xt.slice(0);this.Hf=a.Yb||0;this.Wj=a.duration||0;this.jR=a.g3||[]}x.extend(Qi.prototype,{Dg:function(a){if(this.Xh[a])return this.Xh[a]},Cm:function(){return this.Xh.length},Od:function(a){return a===t?this.Hf:Ri(this.Hf)},Gk:function(a){return a===t?this.Wj:Si(this.Wj,"nav")},sX:u("jR")});var Ti=Qi.prototype;U(Ti,{getNumRoutes:Ti.Cm,getRoute:Ti.Dg,getDistance:Ti.Od,getDuration:Ti.Gk,getDragPois:Ti.sX});function Ui(a){Qi.call(this,a);this.Ec=a.Zx;this.Xg=a.description;this.Wj=a.duration||0;this.vJ=a.HO||[];this.GB=a.total||[]}x.xa(Ui,Qi,"TransitRoutePlan"); x.extend(Ui.prototype,{at:function(){return this.Ec.length},ux:function(a){if(this.Ec[a])return this.Ec[a]},Cg:function(a){return a===t?gb.$E(this.Xg):this.Xg},Gk:function(a){return a===t?this.Wj:Si(this.Wj,"bustime")},xL:function(){for(var a="",b=this.Ec.length-1,c=0;c<b;c++)this.Ec[c]&&this.Ec[c].title&&(a+=this.Ec[c].title+" \\u2192 ");return a+=this.Ec[b].title},F3:function(a){return a.substring(0,a.indexOf("("))},lY:function(){for(var a=0,b=this.Xh.length,c=0;c<b;c++)a+=this.Xh[c].Od(t);return Ri(a)}, zL:function(){return this.vJ.length},WD:function(a){return this.vJ[a]},ht:function(a){return this.GB[a]}});var Vi=Ui.prototype;U(Vi,{getNumLines:Vi.at,getLine:Vi.ux,getNumRoutes:Vi.Cm,getRoute:Vi.Dg,getDistance:Vi.Od,getDuration:Vi.Gk,getDescription:Vi.Cg,getNumTotal:Vi.zL,getTotalType:Vi.WD,getTotal:Vi.ht});function Wi(a){Qi.call(this,a);this.Ec=a.Zx;this.Xg=a.description;this.Wj=a.duration||0;this.GB=a.total||[];this.Hf=a.Yb||0;this.tJ=a.x0||0;this.uJ=a.y0||0;this.vI=a.AZ||0;this.Xg=a.description||0;this.mJ=this.Ec.length||0}x.xa(Wi,Qi,"TruckRoutePlan"); x.extend(Wi.prototype,{at:function(){return this.Ec.length},ux:function(a){if(this.Ec[a])return this.Ec[a]},Cg:function(a){return a===t?gb.$E(this.Xg):this.Xg},Gk:function(a){return a===t?this.Wj:Si(this.Wj,"bustime")},xL:function(){for(var a="",b=this.Ec.length-1,c=0;c<b;c++)this.Ec[c]&&this.Ec[c].title&&(a+=this.Ec[c].title+" \\u2192 ");return a+=this.Ec[b].title},ht:function(a){return this.GB[a]},o4:u("uJ"),Dg:function(a){return this.Ec[a]},n4:u("tJ"),Z3:u("vI")});var Xi=Wi.prototype; U(Xi,{getNumLines:Xi.at,getLine:Xi.ux,getNumRoutes:Xi.Cm,getRoute:Xi.Dg,getDistance:Xi.Od,getDuration:Xi.Gk,getDescription:Xi.Cg,getTotal:Xi.ht});function Yi(a){this.Tr=a.Ij&&a.Ij.slice(0)||[];this.Hf=a.Yb||0;this.ek=a.index||0;this.Br=a.ja.slice(0);this.dB=a.ty||0;this.XT=a.Yt;0===this.Hf&&2<this.Br.length&&(this.Br.length=2)}x.extend(Yi.prototype,{xx:function(){return this.Tr.length},GL:function(a){if(this.Tr[a])return this.Tr[a]},Od:function(a){return a===t?this.Hf:Ri(this.Hf)},KD:u("ek"),qp:u("aj"),$e:u("Br"),dt:u("XT"),RX:u("dB")});var Zi=Yi.prototype; U(Zi,{getNumSteps:Zi.xx,getStep:Zi.GL,getDistance:Zi.Od,getIndex:Zi.KD,getPolyline:Zi.qp,getPath:Zi.$e,getRouteType:Zi.dt});function $i(a){this.title=a.title;this.uid=a.uid;this.type=a.type;this.ej=a.su.slice(0);this.Br=a.ja.slice(0);this.Hf=a.Yb||0;this.hT=a.$M||0;this.Se=a.status||{}}x.extend($i.prototype,{MX:u("hT"),JD:function(){return this.ej[0]},HD:function(){return this.ej[1]},$e:u("Br"),qp:u("aj"),Od:function(a){return a===t?this.Hf:Ri(this.Hf)},rp:u("title")});var aj=$i.prototype;U(aj,{getNumViaStops:aj.MX,getGetOnStop:aj.JD,getGetOffStop:aj.HD,getPath:aj.$e,getPolyline:aj.qp,getDistance:aj.Od,getTitle:aj.rp});function bj(a){this.Vh=a.point;this.ek=a.index;this.Xg=a.description;this.Hf=a.Yb||0;this.UT=a.V5||0;this.dB=a.ty||0}x.extend(bj.prototype,{ma:u("Vh"),KD:u("ek"),Cg:function(a){return a===t?gb.$E(this.Xg):this.Xg},Od:function(a){return a===t?this.Hf:Ri(this.Hf)},i4:u("UT"),RX:u("dB")});var cj=bj.prototype;U(cj,{getPosition:cj.ma,getIndex:cj.KD,getDescription:cj.Cg,getDistance:cj.Od});x.extend(kf.prototype,{Ba:function(){window.RouteAddrInst=this;var a={},b=this.Cj,c=this.qf=1,e=[],f=[],g=["sel_n","sel_n1","sel_y","sel_x","sel_x1"],i=[-1,-1],k=[],f=[],b=b.content.result;this.vu=[b.originInfo.area_id,b.destinationInfo.area_id];tempCode=b.originInfo.area_id;for(var m=0;m<c+1;m++){var n=s;e.push([]);k.push("");f.push("");0==m?b.originInfo&&(this.vu[0]=b.originInfo.area_id,tempCode=this.vu[0]):b.destinationInfo&&(this.vu[m]=b.destinationInfo.area_id,tempCode=this.vu[m]);n=this.ni(m); if(0<n.length){f[m]=\'<a href="javascript:void(0)" ></a>\';e[m].push(\'<div id="RADiv_ResItem\'+m+\'" class="sel_body_body_div sel_body_resitem">\');var o=[0,9];10>n.length&&(o[1]=n.length-1);e[m].push(this.PM(m,o));10<n.length&&(e[m].push(\'<div id="RADiv_PAGE\'+m+\'" style="height:20px;" class="sel_body_body_page"></div>\'),this.FO[m]=Math.ceil(n.length/10),this.ss[m]=1);e[m].push("</div>");if(1===n.length){i[m]=2;this.Ib[m].n=n[0].name;this.Ib[m].c=tempCode;this.Ib[m].u=n[0].uid;var p=o=new P(n[0].location.lng, n[0].location.lat);this.Ib[m].point=o;this.Ib[m].x=p.lng;this.Ib[m].y=p.lat;this.Ib[m].t=0;this.Kg=o=this.MJ(this.m.na.map,p,n[0].name,m);this.HM.push(o.point);k[m]=n[0].name}else i[m]=0}}for(var v,m=0;m<i.length;m++)n=i[m],0==n&&!v?(this.xk=m,v=m+1):v&&0==n&&(i[m]=1);a.startPointClass=g[i[0]];this.FF=b.originInfo.wd;a.startPoint=""==k[0]?this.FF:k[0];a.startBody=e[0].join("");a.endPointClass=g[i[c]];this.jD=b.destinationInfo.wd;a.endPoint=""==k[c]?this.jD:k[c];a.endBody=e[c].join("");a.startButton= f[0];a.endIndex=c;a.endButton=f[c];this.C0=[];a.tpList="";return this.o0(a)},aK:function(){var a;x.fa("RouteAddress_DIV0")&&(a=x.fa("RouteAddress_DIV0").getElementsByTagName("tr"),this.RN(a));x.fa("RouteAddress_DIV1")&&(a=x.fa("RouteAddress_DIV1").getElementsByTagName("tr"),this.RN(a));var b=this;this.Fb&&this.Fb.addEventListener("open",function(){var a=x.fa("selInfoWndBtn");x.V(a,"click",function(){var c=a.getAttribute("data-uid").split("_");b.itmSelect(c[0],c[1])});x.V(a,"mouseover",function(){b._selBtnOver(a)}); x.V(a,"mousedown",function(){b._selBtnDown(a)});x.V(a,"mouseout",function(){b._selBtnOut(a)})});var c,e;x.fa("RouteAddress_DIV0")&&(c=x.fa("RouteAddress_DIV0").firstChild.firstChild,x.V(c,"click",function(){var a=c.getAttribute("data-uid");b.showLst(a)}));x.fa("RouteAddress_DIV1")&&(e=x.fa("RouteAddress_DIV1").firstChild.firstChild,x.V(e,"click",function(){var a=e.getAttribute("data-uid");b.showLst(a)}))},RN:function(a){var b=this;this.Pb(a,function(a,e){x.V(e,"mouseover",function(a){var c=e.getAttribute("data-uid").split("_"); n2=parseInt(c[1],10);Ch=parseInt(c[2],10);b._lstMouseOver(this,0,c[0],Ch-n2,a)});x.V(e,"mouseout",function(a){var c=e.getAttribute("data-uid").split("_");n2=parseInt(c[1],10);Ch=parseInt(c[2],10);b._lstMouseOut(this,0,c[0],Ch-n2,a)});x.V(e,"click",function(a){var c=e.getAttribute("data-uid").split("_"),f=parseInt(c[0],10);n2=parseInt(c[1],10);Ch=parseInt(c[2],10);b.select(f,Ch,a)});var f=e.childNodes[2].getElementsByTagName("div")[0];x.V(f,"click",function(){var a=f.getAttribute("data-uid").split("_"); b.itmSelect(a[0],a[1])});x.V(f,"onmouseover",function(){b._selBtnOver(f)});x.V(f,"onmouseout",function(){b._selBtnOut(f)});x.V(f,"onmousedown",function(){b._selBtnDown(f)})})},u3:ca(),ny:function(a,b){a.content||(a.content={start:[],end:[]});a.content.tpList=[];if(19==a.result.type){this.SZ(a,b);var c=a.content,e=[],f=c.length;a.content={start:[],end:[]};if(2<f)for(var g=1;g<f-1;g++)e.push(c[g]);a.content.end=c[f-1];a.content.tpList=e;a.content.start=c[0]}return a},SZ:function(a,b){var c={},e,f=0, g=0,i=[],k,m=a.result;e=[];c.city_list=[];c.count=[];c.current_null=[];c.e_query=[];c.e_wd=[];c.end_city=[];c.wd2=[];c.prio_flag=[];c.sug_index=[];c.total=[];c.s_wd="";c.s_query="";this.Lw=[];m.e_wd||(m.e_wd=[],m.e_query=[]);e=this.wN(b.start);k=e.type;c.s_wd=1==k?e.Db:m.s_wd;c.s_query=1==k?e.Db:m.s_query;1==k&&(this.Ib[f].B=c.s_wd,this.Ib[f].x=e.point.split(",")[0],this.Ib[f].y=e.point.split(",")[1]);this.Lw.push(2==k);c.total.push(1==k?1:m.total[g]);c.count.push(1==k?1:m.count[g]);c.current_null.push(1== k?0:m.current_null[g]);c.prio_flag.push(1==k?1:m.prio_flag[g]);c.sug_index.push(1==k?"":m.sug_index[g]);i.push(1==k?[{name:e.Db,geo:"1|"+e.point+";"+e.point+"|"+e.point+";"}]:a.content[g]);c.city_list.push(1==k?0:m.city_list[g]);c.wd2.push(1==k?"":m.wd2[g]);2==k&&g++;f++;e=decodeURIComponent(b.end).split("to:");for(var n=0,o;o=e[n];n++){o=this.wN(o);k=o.type;2==k&&o.uid&&o.point&&(k=1);this.Lw.push(2==k);var p=2==k?o.Db:0==g?m.s_wd:m.e_wd[g-1];c.e_wd.push(p);c.e_query.push(p);c.end_city.push(1==k? a.current_city:0==g?m.start_city:m.end_city[g-1]);1==k&&(this.Ib[f].B=c.s_wd,this.Ib[f].x=o.point.split(",")[0],this.Ib[f].y=o.point.split(",")[1]);o.uh&&(this.LY(f-1,{wy:c.e_wd[f-1],fs:c.wd2[f],point:1==k?gb.CL(o.point):s,uid:o.uid}),this.QF.push({wy:c.e_wd[f-1],fs:c.wd2[f],point:1==k?gb.CL(o.point):s,uid:o.uid}));c.total.push(1==k?1:m.total[g]);c.count.push(1==k?1:m.count[g]);c.current_null.push(1==k?0:m.current_null[g]);c.prio_flag.push(1==k?1:m.prio_flag[g]);c.sug_index.push(1==k?"":m.sug_index[g]); i.push(1==k?[{name:o.Db,geo:"1|"+o.point+";"+o.point+"|"+o.point+";"}]:a.content[g]);c.city_list.push(1==k?0:m.city_list[g]);c.wd2.push(1==k?"":m.wd2[g]);2==k&&g++;f++}x.extend(a.result,c);a.content=i},LY:function(a,b){var c=x.extend({},b);if(this.wu.length>a)this.wu[a]=b;else if(this.wu.length==a)this.wu.push(b);else return;this.wu[a]=c},wN:function(a){a=decodeURIComponent(a);a=a.split("$$");return{type:a[0],uid:a[1],point:a[2],Db:a[3],F4:a[4],V4:a[5],q3:a[6],uh:a[7]}},ni:function(a){var b=[];switch(a){case 0:case "0":b= this.Cj.content.result.origin.content;break;case 1:case "1":b=this.Cj.content.result.destination.content}return b},K3:function(a){return 0==a?this.Cj.content.start:a==this.qf?this.Cj.content.end:this.Cj.content.tpList[a-1]},PM:function(a,b,c){this.ii=-1;var c=c?c:this.ni(a),e=[];e.push(\'<div id="RA_ResItem_\'+a+\'"><table border="0" cellspacing="0" cellpadding="0" style="width:100%">\');for(var f=b[0];f<=b[1];f++){e.push(\'<tr  onmouseover="RouteAddrInst._lstMouseOver(this, 0,\'+a+", "+(f-b[0])+\', event)" onmouseout="RouteAddrInst._lstMouseOut(this, 0,\'+ a+", "+(f-b[0])+\', event)" onclick="RouteAddrInst.select(\'+a+","+f+\', event)"  filter = "item" data-uid="\'+a+"_"+b[0]+"_"+f+\'"  ><th><div title="\\u5728\\u56fe\\u4e0a\\u663e\\u793a\\u8be5\\u70b9" class="icon iconbg" id="no_\'+a+"_"+(f-b[0]+1)+\'"></div></th>\');var g=0==a?"\\u9009\\u4e3a\\u8d77\\u70b9":a==this.qf?"\\u9009\\u4e3a\\u7ec8\\u70b9":"\\u9009\\u4e3a\\u9014\\u7ecf\\u70b9";e.push(\'<td style="word-break:break-all;padding-right:24px">\');e.push(\'<a href="javascript:void(0)">\'+c[f].name+"</a>");c[f].address&&""!=c[f].address&& (e.push("<div>"),e.push(\'<span style="color:#999">\\u5730\\u5740: \'+c[f].address+"</span>"),e.push("</div>"));e.push("</td>");e.push(\'<td style="vertical-align:middle;width:106px"><div tid="selBtn_\'+a+"_"+f+\'" class="selBtn"  onclick="RouteAddrInst.itmSelect(\'+a+","+f+\');return false;" onmouseover="RouteAddrInst._selBtnOver(this)" onmouseout="RouteAddrInst._selBtnOut(this)" onmousedown="RouteAddrInst._selBtnDown(this)" data-uid = "\'+a+"_"+f+\'"  >\'+g+"</div>");e.push(\'<a data-uid="\'+c[f].uid+\'" href="javascript:void(0);" class="list_street_view_poi" style="visibility:hidden"><img src="/static/images/transparent.gif" ></a>\'); e.push("</td>");e.push("</tr>")}e.push("</table></div>");return e.join("")},MJ:function(a,b,c,e,f){0==e?a=X.tk(a,b,c,dj):e==this.qf?a=X.tk(a,b,c,ej):(c=this.QF[e-1],c.point=b,f&&(c.uid=f),a=X.XB(a,b,e-1));return a},o0:function(a){var b=[];b.push(\'<div class="RouteAddressOuterBkg">\');b.push(\'<div class="RouteAddressTip"><span>\\u8bf7\\u9009\\u62e9\\u51c6\\u786e\\u7684\\u8d77\\u70b9\\u3001\\u9014\\u7ecf\\u70b9\\u6216\\u7ec8\\u70b9</span></div>\');b.push(\'<div class="RouteAddressInnerBkg">\');b.push(\'<div id="pos5" style="display:none"></div>\'); b.push(\'<div id="RouteAddress_DIV0" class="\'+a.startPointClass+\'"> \');b.push(\'<div class="sel_body">\');b.push(\'<div class="sel_body_top" data-uid="0" onclick="RouteAddrInst.showLst(0)" >\');b.push(\'<div class="sel_body_title">\');b.push(\'<div class="sel_body_sign"></div>\');b.push(\'<div class="sel_body_name">\\u8d77\\u70b9\\uff1a<b id="B_PointName0">\'+a.startPoint+"</b></div>");b.push("</div>");b.push(\'<div id="RD_TOP_BUT0" class="sel_body_button">\'+a.startButton+"</div>");b.push("</div>");b.push(\'<div class="sel_body_body" id="RADIV_BODY0">\'+ a.startBody+"</div>");b.push("</div>");b.push("</div>");b.push(a.tpList);b.push(\'<div id="RouteAddress_DIV\'+a.endIndex+\'" class="\'+a.endPointClass+\'">\');b.push(\'<div class="sel_body">\');b.push(\'<div class="sel_body_top" data-uid=\'+a.endIndex+\' onclick="RouteAddrInst.showLst(\'+this.qf+\')" >\');b.push(\'<div class="sel_body_title">\');b.push(\'<div class="sel_body_sign"></div>\');b.push(\'<div class="sel_body_name">\\u7ec8\\u70b9\\uff1a<b id="B_PointName\'+a.endIndex+\'">\'+a.endPoint+"</b></div>");b.push("</div>"); b.push(\'<div id="RD_TOP_BUT\'+a.endIndex+\'" class="sel_body_button">\'+a.endButton+"</div>");b.push("</div>");b.push(\'<div class="sel_body_body" id="RADIV_BODY\'+a.endIndex+\'">\'+a.endBody+"</div>");b.push("</div>");b.push("</div>");b.push(\'<div id="pos6" style="display:none"></div>\');b.push("</div>");b.push("</div>");return b.join("")},showLst:function(a){this.xk=a;endIndex=1;d=this.ni(a);var b=this.ss,c=x.fa("RouteAddress_DIV"+a).className;if(!("sel_n"==c||"sel_x"==c||this.Lw&&!this.Lw[a])){if("sel_n1"== c||"sel_y"==c||"sel_x1"==c){for(var e=0;e<=endIndex;e++){var f=x.fa("RouteAddress_DIV"+e);ka.Ic("B_PointName"+e).innerHTML=this.pX(e);"sel_x"==f.className?f.className="sel_x1":"sel_n"==f.className&&(f.className="sel_n1")}this.mC();this.Kg&&(this.map.Jb(this.Kg),this.Kg=s);"sel_y"==c&&(this.Ib[a]={B:"",Kd:0,tn:0,x:0,y:0,sa:-1},this.an[a]=0);c=0;0===a?c=this.Cj.content.result.origin.length:1===a&&(c=this.Cj.content.result.destination.length);0>=c?x.fa("RouteAddress_DIV"+a).className="sel_x":(x.fa("RouteAddress_DIV"+ a).className="sel_n",c=10*(b[a]-1)+9,d.length<c+1&&(c=d.length-1),this.Io(a,[10*(b[a]-1),c]))}this.ii=-1}},sB:function(a,b){var c;x.fa("RA_ResItem_"+a)&&(c=x.fa("RA_ResItem_"+a).childNodes[0]);if(c&&(c=c.rows[b]))c.style.backgroundColor="#F4F4F4",c.getElementsByTagName("td")[1].childNodes[0].style.visibility="visible",c.getElementsByTagName("th")[0].childNodes[0].style.backgroundPosition=24*-b+"px -32px";this.Yf.length>b&&(this.Yf[b].Wb(new kd(J.dG,J.iP,{offset:J.hP,imageOffset:new M(-J.fP*b,-J.gP), infoWindowOffset:J.cG})),this.dJ(this.Yf[b],q,q))},_lstMouseOver:function(a,b,c,e){a=this.m.na.map;this.ii!=e&&(a.Mc(),this.sB(c,e))},_lstMouseOut:function(a,b,c,e){this.ii!=e&&this.qw(c,e)},qw:function(a,b){var c=s;x.fa("RA_ResItem_"+a)&&(c=x.fa("RA_ResItem_"+a).childNodes[0]);c&&(c=c.rows[b],c.style.backgroundColor="#ffffff",c.getElementsByTagName("td")[1].childNodes[0].style.visibility="",c.getElementsByTagName("th")[0].childNodes[0].style.backgroundPosition=24*-b+"px -64px");this.Yf.length>b&& (this.Yf[b].Wb(new kd(J.dG,J.gG,{offset:J.q1,imageOffset:new M(-J.fG*b,-J.eG),infoWindowOffset:J.p1})),this.dJ(this.Yf[b],t))},dJ:function(a,b,c){a&&a.Fi&&(b&&!a.$H&&a.fd&&a.fd.style?(a.$H=q,c?a.Fi(q,1000100):a.Fi(q)):!b&&(a.fd&&a.fd.style)&&(delete a.$H,a.Fi(t)))},select:function(a,b,c){if(2<arguments.length&&(c=c||window.i3,"selBtn"==(c.srcElement||c.target).className))return;var e=this.ni(a);this.map.Mc();e&&(this.Sp[0]!=this.Sp[1]&&this.Kg&&this.map&&this.map.Qg(this.Tk),this.lU(e,a,b),-1!=this.ii&& this.qw(a,this.ii),this.ii=b%10,this.sB(a,this.ii))},mC:function(){var a=this;(function c(){0!==a.Yf.length&&(a.map.Jb(a.Yf.shift()),c())})();(function e(){0!==a.Tk.length&&(a.Tk.shift(),e())})()},itmSelect:function(a,b){var c=this.map,e=this.ni(a);this.Ib[a].n=e[b].name;this.Ib[a].c=this.Sp[a];this.Ib[a].u=e[b].uid;var f=new P(e[b].location.lng,e[b].location.lat),g=R.Ya(f);this.Ib[a].point=f;this.Ib[a].x=g.lng;this.Ib[a].y=g.lat;this.Ib[a].t=0;x.fa("B_PointName"+a)&&(x.fa("B_PointName"+a).innerHTML= e[b].name);this.Kg=this.MJ(c,g,e[b].name,a);0!=a&&a!=this.qf&&(this.QF[a-1].wy=e[b].name);this.mC();if(this.OY())this.Kg&&(c.Jb(this.Kg),this.Kg=s),this.submit();else{x.fa("RouteAddress_DIV"+a)&&(x.fa("RouteAddress_DIV"+a).className="sel_y");for(c=0;1<=this.qf;){c=(a+1)%(this.qf+1);x.fa("RouteAddress_DIV"+c)&&x.fa("RouteAddress_DIV"+c);break}0==this.an[c]?(x.fa("RouteAddress_DIV"+c)&&(x.fa("RouteAddress_DIV"+c).className="sel_n"),e=this.ss[c],f=10*(e-1)+9,g=this.ni(c),g.length<f+1&&(f=g.length-1), this.Io(c,[10*(e-1),f]),this.select(c,0)):2==this.an[c]?x.fa("RouteAddress_DIV"+c)&&(x.fa("RouteAddress_DIV"+c).className="sel_n"):x.fa("RouteAddress_DIV"+c)&&(x.fa("RouteAddress_DIV"+c).className="sel_x");this.xk=c}},submit:function(){var a=this.map,b={},c=new O("onpoiselected");b.start_name=this.Ib[0].point.lat+","+this.Ib[0].point.lng;b.end_name=this.Ib[1].point.lat+","+this.Ib[1].point.lng;b.region=this.Ib[0].c||this.Ib[1].c;c.paramInfo=b;a.dispatchEvent(c)},LL:function(a,b){var c=2,e="",f="", g="",i="0",k="";if(a.point||a.EN)c=1,f=a.point?a.point.lng+","+a.point.lat:a.EN.lng+","+a.EN.lat,a.uid&&(c=2,e=a.uid);a.wy&&(g=a.wy);a.fs&&(i="1",k=a.fs);isNaN(b)||(c=b);return c+"$$"+e+"$$"+f+"$$"+g+"$$"+i+"$$"+k+"$$$$1$$+to:"},OY:function(){for(var a=0;a<=this.qf;a++)if(""==this.Ib[a].n&&!this.Ib[a].x&&!this.Ib[a].y||this.Ib[a].n==l)return t;return q},_selBtnOver:function(a){a.style.backgroundPosition="-100px -81px"},_selBtnOut:function(a){a.style.backgroundPosition="-21px -81px"},_selBtnDown:function(a){a.style.backgroundPosition= "-220px -81px";a.style.fontWeight="bold"},za:function(){var a=this,b=this.qf;a.eO();for(var c=0;c<=b;c++)x.fa("RADiv_PAGE"+c)&&(pg0=new $e("RADiv_PAGE"+c,function(b){var c=a.xk,e=[10*(b-1),10*b-1];a.Tp[c]<e[1]+1&&(e[1]=a.Tp[c]-1);x.U.remove=function(a){var a=x.fa(a),b=a.parentNode;b&&b.removeChild(a)};x.fa("RA_ResItem_"+c)&&(x.U.remove(x.fa("RA_ResItem_"+c)),ka.U.Qx(x.fa("RADiv_ResItem"+c),"AFTERBEGIN",a.PM(c,e)));a.Io(c,e,q);x.fa("RADiv_ResItem"+c).scrollTop=0;a.ss[c]=b},{bg:5,Qd:a.FO[c],page:a.ss[e]})); var e=[0,9],c=this.xk,f=ka.Ic("RouteAddress_DIV"+c),g=this.ni(c);"sel_n"==f.className?g&&0<g.length&&(g.length<e[1]+1&&(e[1]=g.length-1),a.Io(c,e),a.select(c,0)):this.Kg&&"sel_x"==f.className&&this.map.Qg(this.HM);for(var e=0;e<=b;e++)"sel_y"==x.fa("RouteAddress_DIV"+e).className&&(c=this.ni(e),0<c.length&&(c[0].wY&&1==c[0].wY)&&(ka.P5(ka.Ic("RD_TOP_BUT"+e),"sel_body_button"),x.fa("RD_TOP_BUT"+e).innerHTML=""))},e1:function(){var a=this.qf;this.eO();for(var b=0;b<=a;b++){var c=this.xk,e=[0,9];this.Tp[c]< e[1]+1&&(e[1]=this.Tp[c]-1);this.Io(c,e,q)}a=[0,9];b=this.xk;ka.Ic("RouteAddress_DIV"+b);c=this.ni(b);1==b?c&&0<c.length&&(c.length<a[1]+1&&(a[1]=c.length-1),this.Io(b,a)):this.Kg&&0==b&&this.map&&this.map.Qg(this.Tk);this.select(b,0)},g6:function(a){var b=this.map;if(a.cW&&!(a.result.T5&1)&&(29==a.result.type||13==a.result.type)){var a=a.cW,c=["country","province","city","area"],c=a.type!=s?modelConfig.Gg[c[a.type]]:l,a=a.Nd!=s?a=gb.Ge(a.Nd,q).point:l;b.OW?(c&&b.Sg(c),a&&b.zf(a)):(b.OW=q,b.xd(a|| b.Qb(),c||b.la()))}},eO:function(){this.Sp=this.vu;var a=this.Cj.content.result;0<a.origin.content.length?(this.an[0]=1===a.origin.content.length?1:0,this.Tp[0]=a.origin.content.length):this.an[0]=3;0<a.destination.content.length?(this.an[1]=1===a.destination.content.length?1:0,this.Tp[1]=a.destination.content.length):this.an[1]=3},Io:function(a,b){var c=this,e=this.ni(a),f=c.map;c.mC();if(e){for(var g=b[0];g<=b[1];g++){var i=new P(e[g].location.lng,e[g].location.lat);c.Yf.push(X.NU(i,g-b[0],e[g].name, f));c.Tk.push(i)}e=c.Tk;c.Kg&&c.Sp[0]==c.Sp[1]&&e.push(c.Kg.point);if(this.map.ya()==Ta){var i=ye[Ta].R2[f.Ob][1],k=getPointsBounds(e),m=f.it(k).zoom;i.ut(k)?(15>=m&&(m=15),f.xd(e[0],m)):f&&f.Qg(e)}else f&&f.Qg(e);11==c.Tk.length&&c.Tk.pop();for(var n=this.Yf,g=b[0];g<=b[1];g++)(function(){var e=g;n[g-b[0]]&&(n[g-b[0]].addEventListener("click",function(){c.select(a,e)}),n[g-b[0]].addEventListener("mouseover",function(){var b=e%10;c.ii!=b&&c.sB(a,b)}),n[g-b[0]].addEventListener("mouseout",function(){var b= e%10;c.ii!=b&&c.qw(a,b)}))})()}},lU:function(a,b,c){var e=this,f=a[c],a="<span class=\'iw_poi_title\' title=\'"+f.name+"\'>"+f.name+"</span>",g=[],i="";f.address&&""!=f.address&&(i="\\u5730\\u5740: "+f.address);g.push("<div style=\'padding:11px 11px 6px 11px;line-height:20px;word-break:break-all\'>"+i+"</div>");g.push("<div style=\'line-height:180%;margin-bottom:10px;\'>");f="\\u9009\\u4e3a\\u9014\\u7ecf\\u70b9";0==b&&(f="\\u9009\\u4e3a\\u8d77\\u70b9");b==this.qf&&(f="\\u9009\\u4e3a\\u7ec8\\u70b9");g.push("<div style=\'text-align:center;\'><div id=\'selInfoWndBtn\' class=\'selInfoWndBtn\'  data-uid = \'"+ b+"_"+c+"\'  />"+f+"</div>");g.push("</div>");this.Fb?(this.Fb.Hc(a),this.Fb.Pc(g.join(""))):(this.Fb=new nd(g.join(""),{title:a,height:0,width:280,margin:[0,0,0,0]}),this.Fb.addEventListener("open",function(){var a=x.fa("selInfoWndBtn");x.V(a,"click",function(){var b=a.getAttribute("data-uid").split("_");e.itmSelect(b[0],b[1])});x.V(a,"mouseover",function(){e._selBtnOver(a)});x.V(a,"mousedown",function(){e._selBtnDown(a)});x.V(a,"mouseout",function(){e._selBtnOut(a)})}),this.Fb.addEventListener("close", function(){e.qw(b,k)}));var k=c%10;this.Yf&&this.Yf[k]&&this.Yf[k].Vc(this.Fb)},pX:function(a){a==l&&(a=this.xk);return 0==a?this.FF:a==this.qf?this.jD:this.C0[a-1]},Pb:function(a,b){for(var c=0,e=a.length;c<e;c++)b(c,a[c])}});bf.vH=function(a,b,c){var e="";0===c&&(e+=";border-top:1px solid #e4e6e7");var f="nav-ed";0===c&&(f="nav-st");c=["<div style=\'"+e+"\'><div style=\'cursor:pointer;padding:8px 0 8px 10px;line-height:15px\'"];c.push("onclick=\'"+b+"\'>");c.push("<span class=\'navtrans-navlist-icon "+f+"\'></span>");c.push("<div style=\'overflow:hidden;line-height:20px;\'>"+a);c.push("</div></div></div>");return c.join("")}; bf.mv=function(a,b,c){return\'<h1 style="margin:0;border-top:1px solid #e4e6e7;\'+(c?"border-bottom:1px solid #e4e6e7;padding:10px 0 10px 7px;":"padding:10px 0 9px 7px;")+"font:bold 16px "+J.fontFamily+\'"> \'+b+"\\u524d\\u5f80 "+a+" \\u7684\\u8def\\u7ebf</h1>"}; x.extend(bf.prototype,{search:function(a,b){return!a||!b?(this.we(),this.Va(5),this.Ca(Y.Lb),t):q},we:function(){delete this.ka;delete this.ra;delete this.Ka;delete this.Rj;delete this.so;var a=this.m.na;this.Va();a.Aa&&(a.Aa.innerHTML="");a.map&&a.map.Mc();this.Wg();this.La=-1},Xz:function(a,b){var c,b=b||{};"string"===typeof a?c=[2,"","",a,0,""]:a instanceof P||a instanceof L?(c=R.Ya(a),c=[1,"",c.lng+","+c.lat,b.bP||"",0,""]):(c=R.Ya(a.point),c=[1,""+a.uid,c.lng+","+c.lat,a.title,0,""]);return c.join("$$")+ "$$"},Zj:function(a){"string"!==typeof a&&(a instanceof P||a instanceof L||(a=a.point),a=a.lat.toFixed(6)+","+a.lng.toFixed(6));return a},U1:function(a,b){var c;"string"===typeof a?c=a:(c=a instanceof P||a instanceof L?a:a.point,c=c.lat+","+c.lng);"string"!==typeof a&&(b&&""!==b&&"string"===typeof b)&&(c="name:"+b+"|latlng:"+c);return c},LL:function(a){return this.Xz(a)+"$$1$$"},d2:function(){var a;"string"===typeof dest?a=dest:(a=dest instanceof P||dest instanceof L?dest:dest.point,a=a.lat+","+a.lng); return a}});var dj=0,ej=1;function Ri(a){"string"===typeof a&&(a=parseFloat(a));a=!a||0>a?"0\\u7c73":10>=a?"10\\u7c73":1E3>a?10*Math.round(a/10)+"\\u7c73":(a/1E3).toFixed(1)+"\\u516c\\u91cc";"1000\\u7c73"===a&&(a="1.0\\u516c\\u91cc");return a} function Si(a,b){0===a&&(a=1);if(!a||isNaN(a))return"";var c="",e=Math.ceil(a/60);if("bustime"===b)var f=e%10,g=parseInt(e/10,10),e=0!==f?5<f?10*++g:g?10*g:5:e;f=parseInt(e/1440,10);e%=1440;g=parseInt(e/60,10);e%=60;1<=f&&(c+=f+"\\u5929");1<=g&&(c+=g+"\\u5c0f\\u65f6");if(1<=e&&(!b||!("nav"===b&&1<=f)))c+=e+"\\u5206\\u949f";return c}U(Vg,{clearResults:Vg.we});x.extend(cf.prototype,{Fd:function(){for(var a=0,b=this.Qa.length;a<b;a++){var c=this.Qa[a];this[c.method].apply(this,c.arguments)}delete this.Qa;var e=this;this.m.na.map&&this.m.na.map.addEventListener("onpoiselected",function(a){e.vy(a)})},BA:function(a,b){function c(a){var a=a.split("$$"),b=a[0],c=s;/[0-2]/.test(b)&&7===a.length&&(c=a[+b+1]);return c}var e=this;this.ig(this.nd,function(f){f={qt:e.Eb,c:f,sn:a,l3:b,sy:e.m.Rd||0,ext:1};3===f.sy&&(f.f="[0,2,4,7,5,8,9,10,11]");var g=c(a),i=c(b);He.lb(function(a, b){e.Qe(a,b)},f,{start:g,end:i})})},search:function(a,b){if(bf.prototype.search.call(this,a,b)===q){var c=this;this.ig(this.nd,function(e){e?"string"===typeof b||"string"===typeof a?(c.Va(5),c.Ca(Y.Lb)):(e={output:"json",qt:"drct",v:"3.0"},e.origin=c.Zj(a),e.destination=c.Zj(b),e.mode="transit",e.tactics_incity=c.m.Rd||0,e.trans_type_intercity=c.m.qn||0,e.tactics_intercity=c.m.Nm||0,He.lb(function(a,b){c.Qe(a,b)},e,{start:a,end:b,FR:"search",Rd:e.tactics_incity,Nm:e.tactics_intercity,qn:e.trans_type_intercity})): (this.Va(5),this.Ca(Y.Lb))})}},vy:function(a){if(a.sType===this.Eb){a=a.paramInfo;a.qt=this.Eb;var b=this;a.sy=b.m.Rd||0;var c={start:a.sq,end:a.eq,FR:"preciseSearch"};this.m.tl&&(c.LN=A.Hp+"mobile/webapp/interface/wiseBus/",c.YK=q);He.lb(function(a){b.Qe(a,c)},a,c)}},Qe:function(a,b){this.we();this.Ka=a;var c=a.result,e=a.content;this.ra=b;0!==c.error?(this.Va(5),this.Ca(Y.Lb,{})):0!==e.status?(this.Va(5),this.Ca(Y.Lb,{})):1===e.type?(this.Va(5),this.Ca(Y.Lb,{})):2===e.type&&(c=e.result,c.routes=== s||0===c.routes.length?(this.Va(5),this.Ca(Y.Lb,{})):(c.origin.city_id===c.destination.city_id||c.origin.city_name===c.destination.city_name?(this.Ka.content.transitType=0,this.IT()):(this.Ka.content.transitType=1,this.HT()),this.cj(),this._selectPlan(0)))},rS:function(a,b){var c=Re;0===b&&(c=0<a?2:1);return c},IT:function(){var a=this.Ka.content,b=a.result,c={},e={};"object"===typeof this.ra.start&&!(this.ra.start instanceof P||this.ra.start instanceof L)?x.extend(c,this.ra.start):(c.title="\\u8d77\\u70b9", c.city=b.origin.city_name,c.point=new P(b.origin.location.lng,b.origin.location.lat));"object"===typeof this.ra.end&&!(this.ra.end instanceof P||this.ra.start instanceof L)?x.extend(e,this.ra.end):(e.title="\\u7ec8\\u70b9",e.city=b.destination.city_name,e.point=new P(b.destination.location.lng,b.destination.location.lat));var a=a.result.routes,b=[],f=0;this.Rj=[];for(var g=0;g<a.length&&!(f>this.m.Rk-1);g++){this.Rj[f]=[];for(var i="<table class=\'trans-plan-content\'>",k=a[g],m=k.distance,n=k.duration, k=k.steps,o=0,p=[],v=[],w=[],y=[],z=0;z<k.length;z++){var B=k[z][0],D=[];D.push(new P(B.start_location.lng,B.start_location.lat));D=D.concat(gb.Qt(B.path));D.push(new P(B.end_location.lng,B.end_location.lat));if(5===B.vehicle_info.type){var G=new Yi({Yb:B.distance,ja:D,Yt:Oe,index:o,ty:g});o++;p.push(G);w.push(G);G="";G=z===k.length-1?e.title:k[z+1][0].vehicle_info.detail.on_station;i+="<tr><td><span class=\'navtrans-bus-icon walk\'></span><div class=\'navtrans-bus-desc\'>\\u6b65\\u884c\\u7ea6"+Ri(B.distance)+ "\\uff0c\\u5230\\u8fbe<span class=\'navtrans-busstation\'>"+G+"</span></div></td></tr>";y.push(0)}else if(3===B.vehicle_info.type){var G=B.vehicle_info.detail,E={title:G.on_station,point:new P(B.start_location.lng,B.start_location.lat)},C={title:G.off_station,point:new P(B.end_location.lng,B.end_location.lat)},B=new $i({title:G.name,Yb:B.distance,ja:D,su:[E,C],type:this.fr(G.type,t),$M:G.stop_num});v.push(B);w.push(B);i+="<tr><td><span class=\'navtrans-bus-icon bus\'></span><div class=\'navtrans-bus-desc\'>\\u4e58\\u5750<span class=\'navtrans-busstation\'>"+ G.name+"</span>\\uff0c\\u7ecf\\u8fc7"+G.stop_num+"\\u7ad9\\uff0c\\u5230\\u8fbe<span class=\'navtrans-busstation\'>"+C.title+"</span></div></td></tr>";y.push(1)}}i+="</table>";i=new Ui({Xt:p,Zx:v,total:w,Yb:m,duration:n,description:i,HO:y});b.push(i);f++}this.ka=new Ni({Op:b,start:c,end:e,url:"",KO:this.Ka.content.transitType,Nm:this.ra.Nm,qn:this.ra.qn,Rd:this.ra.Rd});this.Va(0);this.Ca(Y.Lb,this.ka)},HT:function(){var a=this.Ka.content,b=a.result,c={},e={};"object"===typeof this.ra.start&&!(this.ra.start instanceof P||this.ra.end instanceof L)?x.extend(c,this.ra.start):(c.title="\\u8d77\\u70b9",c.city=b.origin.city_name,c.point=new P(b.origin.location.lng,b.origin.location.lat));"object"===typeof this.ra.end&&!(this.ra.end instanceof P||this.ra.end instanceof L)?x.extend(e,this.ra.end):(e.title="\\u7ec8\\u70b9",e.city=b.destination.city_name,e.point=new P(b.destination.location.lng,b.destination.location.lat));var a=a.result.routes,b=[],f=0;this.Rj=[];for(var g=0;g<a.length&&!(f>this.m.Rk-1);g++){this.Rj[f]=[]; for(var i="<table class=\'trans-plan-content\'>",k=a[g],m=k.distance,n=k.duration,k=k.steps,o=0,p=[],v=[],w=[],y=[],z=0;z<k.length;z++)for(var B=0;B<k[z].length;B++){var D=k[z][B],G=[];G.push(new P(D.start_location.lng,D.start_location.lat));G=G.concat(gb.Qt(D.path));G.push(new P(D.end_location.lng,D.end_location.lat));if(5===D.vehicle_info.type){var E=new Yi({Yb:D.distance,ja:G,Yt:Oe,index:o,ty:g});o++;p.push(E);w.push(E);E="";if(z===k.length-1&&B===k[z].length-1)E=e.title;else if(z<k.length-1&&B=== k[z].length-1){var C=k[z+1][0].vehicle_info;switch(C.type){case 3:E=C.detail.on_station;break;case 1:case 2:case 6:E=C.detail.departure_station}}else if(B<k[z].length-1)switch(C=k[z][B+1].vehicle_info,C.type){case 3:E=C.detail.on_station;break;case 1:case 2:case 6:E=C.detail.departure_station}i+="<tr><td><span class=\'navtrans-bus-icon walk\'></span><div class=\'navtrans-bus-desc\'>\\u6b65\\u884c\\u7ea6"+Ri(D.distance)+"\\uff0c\\u5230\\u8fbe<span class=\'navtrans-busstation\'>"+E+"</span></div></td></tr>";y.push(0)}else if(3=== D.vehicle_info.type){var E=D.vehicle_info.detail,H={title:E.on_station,point:new P(D.start_location.lng,D.start_location.lat)},C={title:E.off_station,point:new P(D.end_location.lng,D.end_location.lat)},D=new $i({title:E.name,Yb:D.distance,ja:G,su:[H,C],type:this.fr(E.type),$M:E.stop_num});v.push(D);w.push(D);i+="<tr><td><span class=\'navtrans-bus-icon bus\'></span><div class=\'navtrans-bus-desc\'>\\u4e58\\u5750<span class=\'navtrans-busstation\'>"+E.name+"</span>\\uff0c\\u7ecf\\u8fc7"+E.stop_num+"\\u7ad9\\uff0c\\u5230\\u8fbe<span class=\'navtrans-busstation\'>"+ C.title+"</span></div></td></tr>";y.push(1)}else 1===D.vehicle_info.type?(E=D.vehicle_info.detail,H={title:E.departure_station,point:new P(D.start_location.lng,D.start_location.lat)},C={title:E.arrive_station,point:new P(D.end_location.lng,D.end_location.lat)},D=new $i({title:E.name,Yb:D.distance,ja:G,su:[H,C],type:this.fr(D.vehicle_info.type,q)}),v.push(D),w.push(D),i+="<tr><td><span class=\'navtrans-cross-city-icon train\'></span><div class=\'navtrans-bus-desc\'>\\u4e58\\u5750<span class=\'navtrans-busstation\'>"+ E.name+"</span>\\u5230\\u8fbe<span class=\'navtrans-busstation\'>"+C.title+"</span></div></td></tr>",y.push(1)):2===D.vehicle_info.type?(E=D.vehicle_info.detail,H={title:E.departure_station,point:new P(D.start_location.lng,D.start_location.lat)},C={title:E.arrive_station,point:new P(D.end_location.lng,D.end_location.lat)},D=new $i({title:E.name,Yb:D.distance,ja:G,su:[H,C],type:this.fr(D.vehicle_info.type,q)}),v.push(D),w.push(D),i+="<tr><td><span class=\'navtrans-cross-city-icon airplane\'></span><div class=\'navtrans-bus-desc\'>\\u4e58\\u5750<span class=\'navtrans-busstation\'>"+ E.name+"</span>\\u5230\\u8fbe<span class=\'navtrans-busstation\'>"+C.title+"</span></div></td></tr>",y.push(1)):6===D.vehicle_info.type?(E=D.vehicle_info.detail,H={title:E.departure_station,point:new P(D.start_location.lng,D.start_location.lat)},C={title:E.arrive_station,point:new P(D.end_location.lng,D.end_location.lat)},D=new $i({title:E.name,Yb:D.distance,ja:G,su:[H,C],type:this.fr(D.vehicle_info.type,q)}),v.push(D),w.push(D),i+="<tr><td><span class=\'navtrans-bus-icon bus\'></span><div class=\'navtrans-bus-desc\'>\\u4e58\\u5750<span class=\'navtrans-busstation\'>"+ E.name+"</span>\\u5230\\u8fbe<span class=\'navtrans-busstation\'>"+C.title+"</span></div></td></tr>",y.push(1)):4===D.vehicle_info.type&&(E=new Yi({Yb:D.distance,ja:G,Yt:Pe,index:o,ty:g}),o++,p.push(E),w.push(E),i+="<tr><td><span class=\'navtrans-bus-icon drive\'></span><div class=\'navtrans-bus-desc\'>\\u9a7e\\u8f66\\u7ea6"+Ri(D.distance)+"</div></td></tr>",y.push(0))}i+="</table>";i=new Ui({Xt:p,Zx:v,total:w,Yb:m,duration:n,description:i,HO:y});b.push(i);f++}this.ka=new Ni({Op:b,start:c,end:e,url:"",KO:this.Ka.content.transitType, Rd:this.ra.Rd,Nm:this.ra.Nm,qn:this.ra.qn});this.Va(0);this.Ca(Y.Lb,this.ka)},NT:function(a){var b=this.m.na.map,c=[],e=this;if(b){var f=this.ka.ed(a);if(f){var g=this.ka.uf(),i=this.ka.ze(),k=X.tk(b,g.point,g.title,dj);g.marker=k;k.addEventListener("click",function(){e._select(0)});this.ua.push(k);k=X.tk(b,i.point,i.title,ej);i.marker=k;this.ua.push(k);k.addEventListener("click",function(){e._selectLast()});this.Rj[a].push(g.point,i.point);for(var k=0,m=f.zL(),n=0;k<m;k++)if(1===f.WD(k)){var o=f.ht(k), p=X.Ho(b,o.$e());o.aj=p;this.ua.push(p);p=o.JD();c.push(p);var v=X.PJ(b,p.point,o.type,p.title);p.marker=v;this.ua.push(v);var w=o.HD();c.push(w);var y=X.PJ(b,w.point,o.type,w.title);w.marker=y;(function(){var a=n;n+=1;v.addEventListener("click",function(){e._select(2*(a+1)-1)});y.addEventListener("click",function(){e._select(2*(a+1))})})();this.ua.push(y);this.Rj[a].push(p.point,w.point)}else 0===f.WD(k)&&(o=f.ht(k),p=X.dm(b,o.$e(),o.dt()),o.aj=p,this.ua.push(p));e=this;this.m.na.wg&&b.Qg(this.Rj[a], {margins:[30,30,30,30]});this.Ca(Y.oq,f.Ec,f.Xh);this.Ca(Y.Dn,[g,i],c)}}},cj:function(){if(this.m.na.Aa&&this.m.na.Aa.appendChild&&this.ka&&0<this.ka.op()){for(var a=F("div",{style:"font:12px "+J.fontFamily+";background:#fff"}),b=bf.mv(this.ka.ze().title,"\\u4e58\\u516c\\u5171\\u4ea4\\u901a\\u5de5\\u5177"),c=this.Zq(this.ka.uf().title,\'Instance("\'+this.da+\'")["_select"](0)\',0),e=this.Zq(this.ka.ze().title,\'Instance("\'+this.da+\'")["_selectLast"]()\',1),f=["<table style=\'font:12px "+J.fontFamily+";border-collapse:collapse;width:100%;\' cellpadding=\'0\' cellspacing=\'0\' border=\'0\'>"], g=0,i=this.ka.op();g<i;g++){var k=this.ka.ed(g),m=k.Od().replace(/(\\d+(?:.\\d+)?)/,"$1 "),n=k.Gk().replace(/(\\d+)/,"$1 "),o=k.lY();bg="";var p="<p style=\'margin:0px 0px 5px 0px;font-size:14px;color: #36c;\'>"+k.xL()+"</p>",m=(this.Ka.content.transitType=0,""),m="<p style=\'margin:5px 0px;font-size:12px;\'>"+m+n+"  &nbsp;|&nbsp; \\u6b65\\u884c"+o+"</p>";f.push("<tr class=\'tranroute-plan-list\' style=\\"cursor:pointer"+bg+\'">\');f.push("<td style=\'vertical-align:top;line-height:18px\' ><div style=\'margin:3px 0px;border:1px solid #e4e6e7;\'><div class=\'trans-title\' style=\'padding: 5px 10px;\' onclick=\'Instance(\\""+ this.da+\'")._selectPlan(\'+g+")\'>"+p+m+"</div><div class=\'trans_plan_desc\' style=\'padding:0px 8px;margin:0px;display:none;position:relative;\'>"+c+k.Cg()+e+"</div></div></td>");f.push("</tr>")}f.push("</table>");c="<div style=\'border-bottom:1px solid #ccc;margin-bottom:10px;color:#7777cc;background:#e5ecf9;overflow:hidden;padding:2px;text-align:right\'>";this.ka.moreResultsUrl&&(c+="<a style=\'color:#7777cc\' href=\'"+this.ka.moreResultsUrl+"\' target=\'_blank\'>\\u5230\\u767e\\u5ea6\\u5730\\u56fe\\u67e5\\u770b&#187;</a>"); a.innerHTML=b+f.join("")+(c+"&nbsp;</div>");this.m.na.Aa.appendChild(a);this.Ca(Y.pq,a)}},_select:function(a){var b=this.m.na.map;if(b){var c=this.ka.ed(this.La);if(c){var e=this,f=2*c.at();if(0===a||a===f+1){var g=0===a?this.ka.uf():this.ka.ze(),f=X.So({content:"<b>"+g.title+"</b>",total:f,Vo:a,Jp:function(a){e._select(a)}});f.addEventListener("open",function(){e.Ca(Y.Lj,g,X.Am(b))});e=this;e.ua[0===a?0:1].Vc(f)}else{var c=c.ux(Math.floor((a+1)/2)-1),i,k=c.rp();1===a%2?(i=c.JD(),c=k+"<b>"+i.title+ "\\u4e0a\\u8f66</b>"):(i=c.HD(),c=k+"<b>"+i.title+"\\u4e0b\\u8f66</b>");f=X.So({content:c,total:f,Vo:a,Jp:function(a){e._select(a)}});f.addEventListener("open",function(){e.Ca(Y.Lj,i,X.Am(b))});e=this;i.marker.Vc(f)}}}},_selectLast:function(){if(this.ka&&-1<this.La){var a=this.ka.ed(this.La);a&&this._select(2*a.at()+1)}},_selectPlan:function(a){if(this.ka||this.TT.ed(a)){this.ka.ed(a);var b=this.m.na.map;b&&(b.Mc(),this.Wg(),this.NT(a));if(this.m.na.Aa){var c=this.m.na.Aa.getElementsByTagName("table")[0]; if(!c)return;for(var b=x.getElementsByClassName(c,"tranroute-plan-list"),c=x.getElementsByClassName(c,"trans_plan_desc"),e=0;e<c.length;e++)e!==a&&(c[e].style.display="none");for(c=0;c<b.length;c++)x.rc(b[c],"expand");c=x.getElementsByClassName(b[a],"trans_plan_desc")[0];"none"===c.style.display?(c.style.display="block",x.ib(b[a],"expand")):c.style.display="none"}this.La=a}},Wg:function(){for(var a=0;a<this.ua.length;a++)this.ua[a]&&this.ua[a].ko&&(this.ua[a].ko.remove(),this.ua[a].ko=s),this.ua[a]&& this.ua[a].remove(),this.ua[a]=s;this.ua.length=0},fr:function(a,b){return b?cf.vP[a]:cf.uP[a]},Zq:function(a,b,c){var e="";0===c&&(e+="padding-top:5px;");var f="nav-ed";0===c&&(f="nav-st");c=["<div style=\'"+e+"\'><div style=\'cursor:pointer;padding:2px 0 2px 0px;line-height:15px\'"];c.push("onclick=\'"+b+"\'>");c.push("<span class=\'navtrans-navlist-icon "+f+"\'></span>");c.push("<div style=\'overflow:hidden;line-height:20px;\'>"+a);c.push("</div></div></div>");return c.join("")}});df=cf.prototype;U(df,{_internalSearch:df.BA});ef.yP=20;ef.sP=50;ef.rP=10; x.extend(ef.prototype,{Px:function(){this.$={uy:[],fc:[],yn:[],ke:[],mc:s,bb:s,NC:t,ks:s,Po:s,Bp:t,Uo:s,wW:1,vW:1,iK:"\\u8d77\\u70b9",hK:"\\u7ec8\\u70b9",Sm:t,Xo:[]}},Fd:function(){this.Px();for(var a=0,b=this.Qa.length;a<b;a++){var c=this.Qa[a];this[c.method].apply(this,c.arguments)}delete this.Qa;var e=this;this.m.na.map&&this.m.na.map.addEventListener("onpoiselected",function(a){e.vy(a)})},search:function(a,b){this.$.Bp=t;if(bf.prototype.search.call(this,a,b)===q){var c=this;this.ig(this.nd,function(e){var e= e||1,f;f={output:"json",qt:"drct",v:"3.0"};var g={start:a,end:b};if(c.Eb===Ue)f.origin=c.Zj(a),f.destination=c.Zj(b),f.region=e,f.mode="walking";else if(c.Eb===Te){if("string"===typeof b||"string"===typeof a){c.Va(5);c.Ca(Y.Lb,{});return}f.origin=c.Zj(a);f.destination=c.Zj(b);f.mode="driving";f.tactics=c.m.Rd||0;g.Rd=f.tactics}else c.Eb===Xe&&(f.origin=c.Zj(a),f.destination=c.Zj(b),f.region=e,f.mode="riding");He.lb(function(a,b){c.Qe(a,b)},f,g,"")})}},Rz:function(a,b){var c=this;c.$.Bp=q;c.ig(c.nd, function(e){for(var e=e||1,f=R.Ya(c.$.fc[0]),f="1$$$$"+f.lng+","+f.lat+"$$$$",g=c.$.wW||e,i="",k="",m=1,n=c.$.fc.length;m<n;m++){var o=c.$.fc[m];m===n-1?(i+=c.Xz(o),k+=c.$.vW||e):(i=o.uh?i+(c.LL(o)+"+to:"):i+(c.Xz(o)+"+to:"),k+="0 +to:")}e={qt:c.Eb,c:e,drag:1,sc:g,ec:k,sn:f,en:i,sy:c.m.Rd||0};c.m.tl&&(e.route_traffic=1,e.version=4,e.mrs=0);f={start:a,end:b,YK:c.m.tl};x.extend(f,{S0:q});He.lb(function(a,b){c.Qe(a,b)},e,f)})},vy:function(a){var b=this,c={qt:"drct"};b.Eb===Ue&&(c.origin=a.paramInfo.start_name, c.destination=a.paramInfo.end_name,c.region=a.paramInfo.region,c.mode="walking",c.v="3.0");b.Eb===Xe&&(c.origin=a.paramInfo.start_name,c.destination=a.paramInfo.end_name,c.region=a.paramInfo.region,c.mode="riding",c.v="3.0");var e={start:c.origin,end:c.destination};He.lb(function(a){b.Qe(a,e)},c,e)},Qe:function(a,b){this.we();this.Ka=a;var c=a.result,e=a.content;this.ra=b;if(0!==c.error)this.Va(5),this.Ca(Y.Lb,{});else if(0!==e.status||e.result&&e.result.routes===s)this.Va(5),this.Ca(Y.Lb,{});else if(1=== e.type){if(this.Eb===Ue||this.Eb===Xe)e=e.result,c=this.OH(e.origin.content),e=this.OH(e.destination.content),1!=c&&1!=e&&this.m.na.map?(c=new kf(a,{na:this.m.na,TN:this.Eb}),e=F("div",{style:"font:12px "+J.fontFamily+";background:#fff"}),e.innerHTML=c.Ba(b),this.m.na.Aa?(this.m.na.Aa.appendChild(e),c.za()):c.e1()):(this.ka=this.gv({city:"",Op:[],d0:c,RW:e}),this.Va(3),this.Ca(Y.Lb,this.ka))}else 2===e.type&&(this.Eb===Te&&(this.m.na.Aa=s),this.Rl(),this.nB(),(this.Eb===Ue||this.Eb===Xe)&&this.cj())}, rS:function(a,b){var c=Re;0===b&&(c=0<a?2:1);return c},OH:function(a){var b=Re;"undefined"===typeof a||a===s||0===a.length?b=1:0<a.length&&(b=2);return b},uo:function(){this.$.bb&&this.$.bb.Cs();for(var a=0,b=this.$.ke.length;a<b;a++){var c=this.$.ke[a];c instanceof W&&c.Cs()}},Rl:function(){var a=this.Ka.content.result,b={},c={};"object"===typeof this.ra.start&&!(this.ra.start instanceof P||this.ra.start instanceof L)?x.extend(b,this.ra.start):this.Eb===Ue||this.Eb===Xe?(b.title=a.origin.wd||"\\u8d77\\u70b9", b.uid=a.origin.uid,b.url=Y.sv(b.uid,a.origin.area_id),b.point=new P(a.origin.originPt.lng,a.origin.originPt.lat),b.city=a.origin.cname):this.Eb===Te&&(b.title="\\u8d77\\u70b9",b.point=new P(a.routes[0].origin.lng,a.routes[0].origin.lat));"object"===typeof this.ra.end&&!(this.ra.end instanceof P||this.ra.end instanceof L)?x.extend(c,this.ra.end):this.Eb===Ue||this.Eb===Xe?(c.title=a.destination.wd||"\\u7ec8\\u70b9",c.uid=a.destination.uid,c.url=Y.sv(c.uid,a.destination.area_id),c.point=new P(a.destination.destinationPt.lng, a.destination.destinationPt.lat),c.city=a.destination.cname):this.Eb===Te&&(c.title="\\u7ec8\\u70b9",c.point=new P(a.routes[0].destination.lng,a.routes[0].destination.lat));var e=[];this.$.yn.length=0;this.so=[];var f=0,g=[],i=[],k=[],m=[],a=a.routes;if(this.Eb===Ue||this.Eb===Xe){for(var n=0;n<a.length;n++){for(var o=a[n],p=0;1>p;p++){var v=o.steps;for(j=0;j<v.length;j++){var w=new P(v[j].stepOriginLocation.lng,v[j].stepOriginLocation.lat),y=j,z=v[j].instructions,B=v[j].distance,y=new bj({point:w, index:y,description:z,Yb:B});k.push(y);y=[];y.push(w);y=y.concat(gb.Qt(v[j].path));y.push(new P(v[j].stepDestinationLocation.lng,v[j].stepDestinationLocation.lat));m=m.concat(y);0<y.length&&(this.so[f]=y);f++}B=o.distance;v=new Yi({Ij:k,Yb:B,index:p,ja:m,Yt:this.Fn});i.push(v)}o=new Qi({Xt:i,Yb:o.distance,duration:o.duration});g.push(o)}n={Op:g,start:b,end:c}}else if(this.Eb===Te){for(n=0;n<a.length;n++){o=a[n];for(p=0;1>p;p++){v=o.steps;for(j=0;j<v.length;j++)w=new P(v[j].start_location.lng,v[j].start_location.lat), y=j,z="",B=v[j].distance,y=new bj({point:w,index:y,description:z,Yb:B}),k.push(y),y=[],y=y.concat(gb.Qt(v[j].path)),m=m.concat(y),0<y.length&&(this.so[f]=y),f++;B=o.distance;v=new Yi({Ij:k,Yb:B,index:p,ja:m,Yt:this.Fn});i.push(v)}o=new Qi({Xt:i,Yb:o.distance,duration:o.duration});g.push(o)}n={Op:g,start:b,end:c,Rd:this.ra.Rd}}this.ka=this.gv(n);this.$.fc.length=0;this.$.uy.length=0;this.$.fc.push(b.point);n=0;for(b=e.length;n<b;n++)this.$.fc.push(e[n]);this.$.fc.push(c.point);c=m;c.cl=n;c.qj=n+1; this.$.uy.push(c);this.Va(0);this.Ca(Y.Lb,this.ka)},aA:function(){for(var a=0,b=this.ka.ed(0),c=0,e=b.Cm();c<e;c++)var f=b.Dg(c),a=a+f.xx();return a},er:function(a){for(var b=0,c=this.ka.ed(0),e=0,f=c.Cm();e<f;e++)for(var g=c.Dg(e),i=0,k=g.xx();i<k;i++){var m=g.GL(i);if(b===a)return m;b++}},Z1:function(a,b,c,e,f,g,i){var k="",k=parseInt(b.d,10),m=b.poi;m&&(k-=m.pd);var k=Ri(k),g=this.nA(g.t,g.n),m=this.nA(b.t,b.n),n=this.nA(b.t,c.n),o=this.EH(a.dw)||"",o=a.dr?o+"<span>"+a.dr+"</span>\\uff0c":"";3=== i.rt&&(o+="\\u5230\\u8fbe<span>"+this.mA(i.rt)+"</span>\\uff0c");c=m===n?"":this.pS(c.t,c.n)+"<span>"+n+"</span>";i=this.uv(a.ett||a.extt||a.tt);k=i+"<div class=\'navtrans-navlist-content\'>"+((""!==m&&g===m?"\\u7ee7\\u7eed":"")+this.qS(b.t,b.n))+m+this.mA(a.rt)+k+"\\uff0c"+this.mS(b)+this.tS(a)+o;0===e?k=i+"<div class=\'navtrans-navlist-content\'>\\u4ece\\u8d77\\u70b9\\u5411"+this.vv(a.ett||a.extt||a.tt)+"\\u51fa\\u53d1</div>":0<e&&e<f-1?((a=this.vv(a.ett||a.extt||a.tt))||(a=this.vv(1)),k=k+a+c+"</div>"):k+="\\u5230\\u8fbe\\u7ec8\\u70b9</div>"; return k},ZH:function(a,b,c){if(b&&c&&0<c.length)for(var e=0,f=c.length;e<f;e++){var g=a.vc(c[e]);if(X.rX(b,g)<=ef.yP)return q}return t},nB:function(){this.m.na.map&&this.ka&&(this.NI(),this.LI())},LI:function(){for(var a=this.m.na.map,b=this.ka.ed(0),c=b.Dg(0),e=this.ka.uf(),f=this.ka.ze(),g=this,i=this.$.fc.length,k=[],m=[],n,o=0,p=this.$.uy.length;o<p;o++){var v=this.$.uy[o];n=X.dm(a,v,c.dt());b.Xh[o].aj=n;n.cl=v.cl;n.qj=v.qj;v=n.le();k.push(v.Ae());k.push(v.sf());this.Wn&&i<ef.rP+2&&(n.addEventListener("mousemove", function(b){g.$.Sm?g.$.bb&&g.$.bb.aa():(g.$.Uo=this,g.$.bb?g.ZH(a,b.pixel,g.$.fc)?g.$.bb.aa():(g.$.bb.show(),g.$.bb.va(b.point),g.$.mc.Pc("\\u62d6\\u52a8\\u4ee5\\u66f4\\u6539\\u8def\\u7ebf"),g.$.mc.show(),g.$.bb.Gj(g.$.mc)):(g.$.bb=X.Fw(a,b.point),g.$.bb.jc(),g.$.bb.addEventListener("dragging",function(){g.OI(this,a,g.$.Uo.cl,g.$.Uo.qj)}),g.$.bb.addEventListener("dragend",function(){var a=g.$.ks,b=a.name,c=g.$.Uo.qj;a.uh=s;g.$.fc.splice(c,0,a);g.$.yn.splice(c,0,{title:b?b:"\\u672a\\u77e5\\u8def\\u6bb5",curNo:c, point:a});this.va(a);g.uo();g.Rz(e,f)}),g.$.mc||(g.$.mc=X.Ww()),a.Ra(g.$.bb)))}),n.addEventListener("mouseout",function(){g.$.bb&&g.$.bb.aa()}));g.$.ke.push(n);if(this.m.tl){c=b.Dg(o);n=0;for(v=c.Tr.length;n<v;n++)for(var w=c.Tr[n],y=w.z6,w=w.A6,z=0,B=y.length;z<B;z++){if(w[z])var D=X.KU(a,y[z],w[z]);m.push(D);g.$.ke.push(D)}c.w2=m}}this.m.na.wg&&a.Qg(k,{margins:[30,30,30,30]});this.Ca(Y.oq,b.Xh)},NI:function(){var a=this.m.na.map;this.ka.ed(0);for(var b=this.ka.uf(),c=this.ka.ze(),e=this,f=0,g=0, i=this.$.fc.length;g<i;g++){var k=this.$.fc[g];if(0===g)k=X.tk(a,k,b.title,dj),b.marker=k,(this.Eb===Ue||this.Eb===Xe)&&k.addEventListener("click",function(){e._select(0)}),this.ua.push(k);else if(g===this.$.fc.length-1)k=X.tk(a,k,c.title,ej),c.marker=k,(this.Eb===Ue||this.Eb===Xe)&&k.addEventListener("click",function(){e._select(e.aA()+1)}),this.ua.push(k);else{k.uh?(k=X.XB(a,k,f),f++,k.uh=1):k=X.Fw(a,k);this.$.yn[g-1].Pm=k;var m=new Zc;m.es(new cd("\\u5220\\u9664\\u8be5\\u70b9",function(a,b,c){e._delVia(c.mh)}, {width:60}));k.cm(m);e.$.Xo.push(m)}k.mh=g;this.Wn&&(k.jc(),k.addEventListener("mouseover",function(){e.$.Sm=q;e.$.mc?(e.$.mc.Pc("\\u62d6\\u52a8\\u4ee5\\u66f4\\u6539\\u8def\\u7ebf"),e.$.mc.show()):e.$.mc=X.Ww();this.Gj(e.$.mc)}),k.addEventListener("mouseout",function(){this.Zs()&&this.Zs().aa();e.$.Sm=t}),k.addEventListener("dragging",function(){e.OI(this,a)}),k.addEventListener("dragend",function(){var a=e.$.ks,f=this.mh;this.uh&&(a.uh=1);e.$.fc[f]=a;this.va(a);var a=e.$.fc[0],g=e.$.fc[e.$.fc.length-1]; 0===f&&(b.point=a,b.title=e.$.iK);f===e.$.fc.length-1&&(c.point=g,c.title=e.$.hK);e.uo();e.Rz(b,c)}));e.$.ke.push(k)}f=[b];f=f.concat(this.$.yn);f=f.concat([c]);this.Ca(Y.Dn,f)},OI:function(a,b,c,e){var f=this;if(f.$.NC!==q){f.$.NC=q;setTimeout(function(){f.$.NC=t},ef.sP);var g;g=R.Ya(a.ma());var i=b.la(),k=a.mh,m=f.m.Rd;if("undefiend"!==typeof c&&"undefined"!==typeof e){var n=f.$.fc[c],n=R.Ya(n),k=f.$.fc[e],k=R.Ya(k);g={qt:"drag",pt:g.lng+","+g.lat,sn:n.lng+","+n.lat,en:k.lng+","+k.lat,r:5E3,st:1, et:1,sy:m,l:i}}else 0===k?(k=f.$.fc[k+1],k=R.Ya(k),g={qt:"drag",pt:g.lng+","+g.lat,sn:"",en:k.lng+","+k.lat,r:5E3,st:1,et:1,sy:m,l:i}):k===this.$.fc.length-1?(n=f.$.fc[k-1],n=R.Ya(n),g={qt:"drag",pt:g.lng+","+g.lat,sn:n.lng+","+n.lat,en:"",r:5E3,st:1,et:1,sy:m,l:i}):(n=f.$.fc[k-1],n=R.Ya(n),k=f.$.fc[k+1],k=R.Ya(k),g={qt:"drag",pt:g.lng+","+g.lat,sn:n.lng+","+n.lat,en:k.lng+","+k.lat,r:5E3,st:1,et:1,sy:m,l:i});He.lb(function(a,b){f.RT(a,b)},g,{aW:a,map:b,cl:c,qj:e})}},RT:function(a,b){if(a&&a.content){this.$.ks= gb.Ge(a.content.dragpt,q).point;var c,e=b.map,f=b.cl,g=b.qj,i=b.aW.mh;"undefiend"!==typeof f&&"undefined"!==typeof g?c=gb.tN(a.content.geo).ja:0===i?(c=gb.Ge(a.content.geo,q).ja,this.$.iK=a.content.name?a.content.name:"\\u8d77\\u70b9"):i===this.$.fc.length-1?(c=gb.Ge(a.content.geo,q).ja,this.$.hK=a.content.name?a.content.name:"\\u7ec8\\u70b9"):c=gb.tN(a.content.geo).ja;c&&(this.HQ(i,e,f,g),this.$.Po?this.$.Po.zd(c):(f=this.ka.ed(0).Dg(0),this.$.Po=X.dm(e,c,f.dt())));c=a.content.name?a.content.name:"\\u672a\\u77e5\\u8def\\u6bb5"; this.$.ks.name=c;e="("+Ri(a.content.dis)+")";this.$.mc&&this.$.mc.show();this.$.mc&&this.$.mc.Pc(c+e)}},HQ:function(a,b,c,e){for(var f=0,g=this.$.ke.length;f<g;f++){var i=this.$.ke[f];if(i instanceof Ad)if("undefiend"!==typeof c&&"undefined"!==typeof e){if(i.cl===c&&i.qj===e){b.Jb(i);break}}else(i.cl===a||i.qj===a)&&b.Jb(i)}this.jg&&this.jg.aa()},_select:function(a){var b=this.La,c=this.m.na;if(c.Aa){var e=c.Aa.getElementsByTagName("table"),e=e[e.length-1].getElementsByTagName("tr");0<=b-1&&e[b-1]&& (e[b-1].style.background="");0<=a-1&&e[a-1]&&(e[a-1].style.background="#f0f0f0")}var f=c.map;if(f){var b=this.ka.ed(0).Dg(0),e=this.aA(),g=this;f.Mc();if(0===a||a===e+1){var i=0===a?this.ka.uf():this.ka.ze(),b=X.So({content:"<b>"+i.title+"</b>",total:e,Vo:a,Jp:function(a){g._select(a)},$D:1===c.Jm?t:q});b.addEventListener("open",function(){g.Ca(Y.Lj,i,X.Am(f))});b.addEventListener("close",function(){if(g.m.na.Aa){var a=c.Aa.getElementsByTagName("table");if(a=a[a.length-1])a=a.getElementsByTagName("tr"), 0<=g.La-1&&a[g.La-1]&&(a[g.La-1].style.background="")}g.La=-1});g=this;g.ua[0===a?0:1].Vc(b);this.jg&&this.jg.aa()}else{var k=c.Jm;if(1===k){var m=this.er(a-1),b=X.So({content:m.Cg()?m.Cg(t):m.instructions,total:e,Vo:a,Jp:function(a){g._select(a)}});b.addEventListener("open",function(){g.Ca(Y.Lj,m,X.Am(f))});b.addEventListener("close",function(){if(g.m.na.Aa){var a=c.Aa.getElementsByTagName("table");if(a=a[a.length-1])a=a.getElementsByTagName("tr"),0<=g.La-1&&a[g.La-1]&&(a[g.La-1].style.background= "")}g.La=-1});e=m.ma?m.ma():m.RE[m.RE.length-1];g=this;f.Vc(b,e)}else if(2===k)if(1===a&&!this.m.tl)m=this.er(0),f.zf(m.ma?m.ma():m.RE[m.RE.length-1]),c.wg&&f.Xc(17),this.jg&&this.jg.aa();else if(this.so[a-1]&&(this.jg?(this.jg.zd(this.so[a-1]),this.jg.show()):this.jg=X.dm(f,this.so[a-1],b.dt()+2),c.wg))b=f.it(this.jg.le()),17<b.zoom&&(b.zoom=17),f.Qg(b)}}this.La=a},_toggle:function(){var a=this.m.na;if(a.Aa){var b=x.getElementsByClassName(a.Aa,"navtrans-res");b&&0<b.length&&(b=b[0],b.style.display= b&&"none"===b.style.display?"":"none");if((a=x.getElementsByClassName(a.Aa,"navtrans-view"))&&0<a.length)a=a[0],x.U.w0(a)}},Wg:function(){var a=this.m.na.map;if(a){for(var b=0,c=this.ua.length;b<c;b++)a.Jb(this.ua[b]),this.ua[b]=s;this.ua.length=0;a.Jb(this.jg);this.jg=s;if(this.$){this.$.bb&&(a.Jb(this.$.bb),this.$.bb=s);this.$.mc&&(a.Jb(this.$.mc),this.$.mc=s);b=0;for(c=this.$.ke.length;b<c;b++)a.Jb(this.$.ke[b]),this.$.ke[b]=s;this.$.ke.length=0;this.$.Po&&(a.Jb(this.$.Po),this.$.Po=s);b=0;for(c= this.$.Xo.length;b<c;b++)a.Qp(this.$.Xo[b]),this.$.Xo[b]=s;this.$.Xo.length=0;this.$.Sm=t}}},_delVia:function(a){if(this.ka){var b=this.ka.uf(),c=this.ka.ze();this.$.fc.splice(a,1);this.uo();this.Rz(b,c)}},cj:function(){if(this.m.na.Aa&&this.m.na.Aa.appendChild&&this.ka&&0<this.ka.op()){var a=this.ka.ed(0),b=F("div",{style:"font:12px "+J.fontFamily+";background:#fff"}),c=this.$.yn,e=c.length,f=[],g="";switch(this.Eb){case Te:g="\\u9a7e\\u8f66";break;case Xe:g="\\u9a91\\u884c";break;case Ue:g="\\u6b65\\u884c"}g= bf.mv(this.ka.ze().title,g,0<e);if(0<e){f.push("<table style=\'width:100%;margin-left:4px;font:12px "+J.fontFamily+";border-collapse:collapse\' cellpadding=\'0\' cellspacing=\'0\' border=\'0\'>");for(var i=0;i<e;i++)f.push("<tr>"),0===i&&(1===e?f.push(\'<td style="padding:2px 5px;line-height:20px">\\u9014\\u7ecf\\u70b9</td>\'):f.push(\'<td valign="top" rowspan="\'+e+\'" style="padding:2px 5px;line-height:18px">\\u9014\\u7ecf\\u70b9</td>\')),f.push(\'<td style="padding:2px 5px;line-height:20px">\'+c[i].title+"</td>"),f.push(\'<td style="padding:2px 10px;line-height:20px;cursor:pointer;color:#0000ff" onclick=\\\'Instance("\'+ this.da+\'")._delVia(\'+c[i].curNo+")\'>\\u5220\\u9664</td>"),f.push("</tr>");f.push("</table>")}for(var c=bf.vH(this.ka.uf().title,\'Instance("\'+this.da+\'")._select(0)\',0),e=["<table class=\'navtrans-table\' style=\'width:100%;font:12px "+J.fontFamily+";border-collapse:collapse\' cellpadding=\'0\' cellspacing=\'0\' border=\'0\'>"],k=0,m=0,n=a.Cm();m<n;m++)for(var o=a.Dg(m),i=0,o=o.xx();i<o;i++){var p="";this.La===k+1&&(p=";background:#f0f0f0");e.push(\'<tr style="cursor:pointer\'+p+\'" onclick=\\\'Instance("\'+this.da+ \'")._select(\'+(k+1)+")\'>");e.push("<td style=\'border-bottom:1px solid #E4E6E7;padding:10px;line-height:20px;\' >"+(this.er(k).Cg?this.er(k).Cg():this.er(k).instructions)+"</td>");e.push("</tr>");k++}e.push("</table>");i=bf.vH(this.ka.ze().title,\'Instance("\'+this.da+\'")._select(\'+(k+1)+")",1);a="<div class=\'navtrans-view expand\' style=\'position:relative;color:#7777cc;background:#e5ecf9;height:53px;overflow:hidden;text-align:right\' onclick=\'Instance(\\""+this.da+"\\")._toggle()\'><span class=\'suggest-plan\'>\\u63a8\\u8350</span><div class=\'suggest-plan-des\'>"+ a.Od().replace(/(\\d+(?:.\\d+)?)/,"$1 ")+"&nbsp;&nbsp;|&nbsp;&nbsp;"+a.Gk().replace(/(\\d+)/,"$1 ")+"</div>";this.ka.moreResultsUrl&&(a+="<a style=\'color:#7777cc;position:absolute;top:5px;right:20px;\' href=\'"+this.ka.moreResultsUrl+"\' target=\'_blank\'>\\u5230\\u767e\\u5ea6\\u5730\\u56fe\\u67e5\\u770b&#187;</a>");b.innerHTML=g+(a+"&nbsp;<span class=\'navtrans-arrow\'></span></div>")+("<div class=\'navtrans-res\'>"+f.join("")+c+e.join("")+i+"</div>");this.m.na.Aa.appendChild(b);this.Ca(Y.pq,b)}},nA:function(a,b){if(""=== b||!b)if(9===a||12===a||1===a||16===a)b=ef.KP[a];return b},mS:function(a){var b="",c=a.poi;c&&(b=this.MH(c.ps)||"",b=(this.NH(c.pw)||"")+b+"<b>"+c.pn+"</b>"+(c.pd<(13===a.sa||4===a.sa?1E3:50)?"":"\\u7ea6"+Ri(c.pd)+"\\u540e")+(""===b?"":"\\uff0c"));return b},tS:function(a){var b=a.iw;return!a.ic?"":(this.IH(b)||"")+"<b>"+a.ic+"</b>"+(this.JH(b)||"")},qS:function(a,b){var c="\\u6cbf";if(0===a||!b&&1!==a&&16!==a&&9!==a&&12!==a)c="";return c},pS:function(a,b){var c="\\u8fdb\\u5165";if(!b&&(9===a||12===a))c= "\\u4e0a";else if(0===a||!b&&1!==a&&16!==a)c="";return c},c2:function(){if(this.Ka&&this.Ka.content&&this.Ka.content.taxi){var a=this.Ka.content.taxi,b={distance:a.dis,remark:a.remark};if(a.detail[0]){var c=a.detail[0];b.day={initialFare:parseFloat(c.startPrice),unitFare:parseFloat(c.kmPrice),totalFare:parseFloat(c.totalPrice)}}a.detail[1]&&(a=a.detail[1],b.night={initialFare:parseFloat(a.startPrice),unitFare:parseFloat(a.kmPrice),totalFare:parseFloat(a.totalPrice)});return b}return s}});ff.pz=" \\u76f4\\u884c \\u53f3\\u524d\\u65b9\\u8f6c\\u5f2f \\u53f3\\u8f6c \\u53f3\\u540e\\u65b9\\u8f6c\\u5f2f \\u8c03\\u5934 \\u5de6\\u540e\\u65b9\\u8f6c\\u5f2f \\u5de6\\u8f6c \\u5de6\\u524d\\u65b9\\u8f6c\\u5f2f \\u9760\\u5de6 \\u76f4\\u884c \\u9760\\u53f3 \\u6b63\\u5317\\u65b9\\u5411 \\u4e1c\\u5317\\u65b9\\u5411 \\u6b63\\u4e1c\\u65b9\\u5411 \\u4e1c\\u5357\\u65b9\\u5411 \\u6b63\\u5357\\u65b9\\u5411 \\u897f\\u5357\\u65b9\\u5411 \\u6b63\\u897f\\u65b9\\u5411 \\u897f\\u5317\\u65b9\\u5411".split(" "); ff.nz=["","\\u4ece\\u8d77\\u70b9\\u51fa\\u53d1","\\u5230\\u8fbe\\u76ee\\u7684\\u5730","\\u9014\\u7ecf\\u70b9","\\u884c\\u9a76"];ff.Oj="s-1 s-1 s-2 s-3 s-4 s-5 s-6 s-7 s-8 s-9 s-1 s-10        ".split(" ");ff.hz=["\\u5728","\\u4ece","\\u4ece"];ff.iz=["","","\\u79bb\\u5f00"];ff.mz=["\\u8fc7","\\u5728"];ff.lz=["\\u5de6\\u4fa7\\u7684","\\u53f3\\u4fa7\\u7684",""];ff.cz=["","\\u671d"]; x.extend(ff.prototype,{gv:function(a){return new Ji(a)},vv:function(a){return ff.pz[a]},uv:function(a){return\'<span class="navtrans-navlist-icon \'+(ff.Oj[a]?ff.Oj[a]:"")+\'"></span>\'},mA:function(a){return ff.nz[a]},IH:function(a){return ff.hz[a]},JH:function(a){return ff.iz[a]},NH:function(a){return ff.mz[a]},MH:function(a){return ff.lz[a]},EH:function(a){return ff.cz[a]}});gf.pz=" \\u76f4\\u8d70 \\u5411\\u53f3\\u524d\\u65b9\\u8f6c \\u53f3\\u8f6c \\u5411\\u53f3\\u540e\\u65b9\\u8f6c \\u5411\\u540e\\u8f6c \\u5411\\u5de6\\u540e\\u65b9\\u8f6c \\u5de6\\u8f6c \\u5411\\u5de6\\u524d\\u65b9\\u8f6c \\u5de6\\u8f6c\\u7a7f\\u8fc7\\u9a6c\\u8def\\u5e76\\u7ee7\\u7eed\\u5411\\u524d \\u53f3\\u8f6c\\u7a7f\\u8fc7\\u9a6c\\u8def\\u5e76\\u7ee7\\u7eed\\u5411\\u524d \\u5de6\\u8f6c\\u7a7f\\u8fc7\\u9a6c\\u8def\\u5e76\\u5f80\\u56de\\u8d70 \\u53f3\\u8f6c\\u7a7f\\u8fc7\\u9a6c\\u8def\\u5e76\\u5f80\\u56de\\u8d70 \\u6b63\\u5317\\u65b9\\u5411 \\u4e1c\\u5317\\u65b9\\u5411 \\u6b63\\u4e1c\\u65b9\\u5411 \\u4e1c\\u5357\\u65b9\\u5411 \\u6b63\\u5357\\u65b9\\u5411 \\u897f\\u5357\\u65b9\\u5411 \\u6b63\\u897f\\u65b9\\u5411 \\u897f\\u5317\\u65b9\\u5411    ".split(" "); gf.Oj="s-1 s-1 s-2 s-3 s-4 s-5 s-6 s-7 s-8 s-7 s-3 s-7 s-3            ".split(" ");gf.nz=["","\\u4ece\\u8d77\\u70b9\\u51fa\\u53d1","\\u5230\\u8fbe\\u76ee\\u7684\\u5730","\\u9014\\u7ecf\\u70b9","\\u8d70"];gf.hz=["\\u5728","\\u4ece","\\u4ece"];gf.iz=["","","\\u79bb\\u5f00"];gf.mz=["\\u8fc7","\\u5728"];gf.lz=["\\u5de6\\u4fa7\\u7684","\\u53f3\\u4fa7\\u7684",""];gf.cz=["","\\u671d"]; x.extend(gf.prototype,{gv:function(a){delete a.url;return new Ki(a)},vv:function(a){return gf.pz[a]},uv:function(a){return\'<span class="navtrans-navlist-icon \'+(gf.Oj[a]?gf.Oj[a]:"")+\'"></span>\'},mA:function(a){return gf.nz[a]},IH:function(a){return gf.hz[a]},JH:function(a){return gf.iz[a]},NH:function(a){return gf.mz[a]},MH:function(a){return gf.lz[a]},EH:function(a){return gf.cz[a]}});hf.Oj="s-1 s-1 s-2 s-3 s-4 s-5 s-6 s-7 s-8 s-9 s-1 s-10        ".split(" ");hf.H0=["\\u7f3a\\u5931","\\u7545\\u901a","\\u6ce8\\u610f\\u7f13\\u884c","\\u62e5\\u5835","\\u4e25\\u91cd\\u62e5\\u5835"]; x.extend(hf.prototype,{Fd:function(){this.Px();for(var a=0,b=this.Qa.length;a<b;a++){var c=this.Qa[a];this[c.method].apply(this,c.arguments)}delete this.Qa;var e=this;this.m.na.map&&this.m.na.map.addEventListener("onpoiselected",function(a){e.vy(a)})},search:function(a,b,c){this.$.Bp=q;c=c||{};c.waypoints=c.waypoints||[];var e=gb.XZ(c.waypoints);this.Sl=c;this.as=e;if(a instanceof P&&b instanceof P&&bf.prototype.search.call(this,a,b)===q){var f=this;this.ig(this.nd,function(){var g={};for(key in c)g[key]= "waypoints"!==key?c[key]:e;g.output="json";g.qt="ldt";g.v="2.0";var i={start:a,end:b};g.origin=a.lat+","+a.lng;g.destination=b.lat+","+b.lng;He.lb(function(a,b){f.Qe(a,b);f.$.Bp=t},g,i)})}},Qe:function(a,b){this.we();this.Ka=a;var c=a.result;this.ra=b;!this.Ka||!c||0!==c.error?(this.Va(5),this.Ca(Y.Lb,{})):(c=this.Ka.content,!c&&(c.result||c.result.routes===s)?(this.Va(5),this.Ca(Y.Lb,{})):(this.Rl(),this.nB(),this.cj()))},Rl:function(){var a=this.Ka.content,b={},c={};"object"===typeof this.ra.start&& !(this.ra.start instanceof P||this.ra.start instanceof L)?x.extend(b,this.ra.start):(b.title="\\u8d77\\u70b9",b.point=new P(this.ra.start.lng,this.ra.start.lat));"object"===typeof this.ra.end&&!(this.ra.end instanceof P||this.ra.start instanceof L)?x.extend(c,this.ra.end):(c.title="\\u7ec8\\u70b9",c.point=new P(this.ra.end.lng,this.ra.end.lat));var a=a.result.routes,e=[];this.Rj=[];for(var f=0;f<a.length;f++){for(var g=a[f],i=g.distance,k=g.duration,m=g.toll,n=g.toll_distance,o=g.oil_cost,g=g.steps,p= [],v=[],w=[],y="<table class=\'navtrans-table\' style=\'width: 100%;\'>",z=0;z<g.length;z++){var B=g[z],D=[];p.push({});D.push(new P(B.start_location.lng,B.start_location.lat));D=D.concat(gb.Qt(B.path));D.push(new P(B.end_location.lng,B.end_location.lat));var G={title:"\\u8d77\\u70b9",point:new P(B.start_location.lng,B.start_location.lat)},E={title:"\\u7ec8\\u70b9",point:new P(B.end_location.lng,B.end_location.lat)},D={distance:B.distance,direction:B.direction,legIndex:B.leg_index,duration:B.duration,adcodes:B.adcodes, roadName:B.road_name,tollGateName:B.toll_gate_name,tollGateLocation:new P(B.toll_gate_location.lng,B.toll_gate_location.lat),points:D,stops:[G,E],trafficCondition:B.traffic_condition};v.push(D);w.push(D);D=B.distance/1E3;D=1<D||1===D?D+"\\u516c\\u91cc":1E3*D+"\\u7c73";y+=\'<tr><td style="border-bottom:1px solid #E4E6E7;padding:10px;line-height:20px;">\'+this.uv(B.direction)+"<div class=\'navtrans-bus-desc\'>\\u6cbf<span class=\'navtrans-busstation\'>"+(B.road_name?B.road_name:"\\u65e0\\u540d\\u8def")+"</span>\\uff0c\\u884c\\u9a76"+ D+"\\uff0c\\u8017\\u65f6"+this.gL(B.duration)+(B.toll_gate_name?"\\uff0c\\u9014\\u7ecf"+B.toll_gate_name:"")+"\\uff0c\\u524d\\u65b9\\u8def\\u51b5"+hf.H0[B.traffic_condition[0].status]+"(\\u8ddd\\u79bb: "+B.traffic_condition[0].distance+"\\u7c73)</div></td></tr>"}y+="</table>";i=new Wi({Xt:p,Zx:v,total:w,Yb:i,duration:k,x0:m,y0:n,AZ:o,description:y});e.push(i)}this.ka=new Mi({Op:e,_start:b,_end:c,start:b,end:c,url:"",a1:this.Sl.waypoints||[]});this.Va(0);this.Ca(Y.Lb,this.ka)},cj:function(){if(this.m.na.Aa&&this.m.na.Aa.appendChild&& this.ka&&0<this.ka.op()){for(var a=F("div",{style:"font:12px "+J.fontFamily+";background:#fff"}),b=this.ka.uf().point,c=this.ka.ze().point,b=this.mv(b.lng+","+b.lat,c.lng+","+c.lat,"\\u9a7e\\u9a76\\u8d27\\u8f66"),c=this.Zq("\\u8d77\\u70b9",\'Instance("\'+this.da+\'")["_select"](0)\',0),e=["<table style=\'font:12px "+J.fontFamily+";border-collapse:collapse;width:100%;\' cellpadding=\'0\' cellspacing=\'0\' border=\'0\'>"],f=0,g=this.ka.op();f<g;f++){var i=this.ka.ed(f),k=i.Od().replace(/(\\d+(?:.\\d+)?)/,"$1 "),m=i.Gk().replace(/(\\d+)/, "$1 "),n=i.uJ/1E3,o=i.tJ,p=i.vI;bg="";var v=this.Zq("\\u7ec8\\u70b9",\'Instance("\'+this.da+\'")["_select"](\'+i.mJ+")",1);e.push("<tr class=\'tranroute-plan-list\' style=\\"cursor:pointer"+bg+\'">\');e.push("<td style=\'vertical-align:top;line-height:18px\' ><div style=\'margin:3px 0px;border:1px solid #e4e6e7;\'><div class=\'trans-title\' style=\'padding: 5px 10px;\' onclick=\'Instance(\\""+this.da+\'")._selectPlan(\'+f+")\'>\\u603b\\u8ddd\\u79bb:"+k+"\\u516c\\u91cc, \\u8017\\u65f6:"+m+", \\u6536\\u8d39\\u91cc\\u7a0b:"+n+"\\u516c\\u91cc, \\u6536\\u8d39:"+ o+"\\u5143, \\u6cb9\\u8d39:"+p+"\\u5143</div><div class=\'trans_plan_desc\' style=\'padding:0px 8px;margin:0px;display:"+(0===f?"block":"none")+";position:relative;\'>"+c+i.Cg()+v+"</div></div></td>");e.push("</tr>")}e.push("</table>");control="";control+="&nbsp;</div>";a.innerHTML=b+e.join("")+control;this.m.na.Aa.appendChild(a);this.Ca(Y.pq,a)}},Wg:function(){for(var a=0;a<this.ua.length;a++)this.ua[a]&&this.ua[a].ko&&(this.ua[a].ko.remove(),this.ua[a].ko=s),this.ua[a]&&this.ua[a].remove(),this.ua[a]=s; this.ua.length=0},uo:function(){this.$.bb&&this.$.bb.Cs();for(var a=0,b=this.$.ke.length;a<b;a++){var c=this.$.ke[a];c instanceof W&&c.Cs()}},aA:function(){for(var a=0,b=this.ka.ed(0),c=0,e=b.Cm();c<e;c++)b.Dg(c),++a;return a},_select:function(a){var b=this.dR,c=this.m.na;if(c.Aa){var e=c.Aa.getElementsByTagName("table"),e=e[e.length-1].getElementsByTagName("tr");0<=b-1&&e[b-1]&&(e[b-1].style.background="");0<=a-1&&e[a-1]&&(e[a-1].style.background="#f0f0f0")}var f=c.map;if(f){var e=this.ka.ed(-1< this.La?this.La:0),b=e.mJ,g=this;f.Mc();if(0===a||a===b)var i=0===a?this.ka.uf():this.ka.ze(),e=i.point,b=X.So({content:"<b>"+i.title+"</b>",total:a===b?b-1:b,Vo:a,Jp:function(a){g._select(a)},$D:1===c.Jm?t:q});else var i=e.Ec[a],e=i.stops[0].point,k=i.distance/1E3,b=X.So({content:"<b>"+("\\u9a76\\u5165"+(i.roadName?i.roadName:"\\u65e0\\u540d\\u8def")+"\\uff0c\\u884c\\u9a76"+(1<k||1===k?k+"\\u516c\\u91cc":1E3*k+"\\u7c73")+"\\uff0c\\u8017\\u65f6"+this.gL(i.duration)+(i.tollGateName?"\\uff0c\\u9014\\u7ecf"+i.tollGateName: ""))+"</b>",total:b,Vo:a,Jp:function(a){g._select(a)},$D:1===c.Jm?t:q});b.addEventListener("open",function(){g.Ca(Y.Lj,i,X.Am(f))});b.addEventListener("close",function(){if(g.m.na.Aa){var a=c.Aa.getElementsByTagName("table");if(a=a[a.length-1])a=a.getElementsByTagName("tr"),0<=g.La-1&&a[g.La-1]&&(a[g.La-1].style.background="")}g.La=-1});f.Vc(b,e)}this.dR=a},_selectPlan:function(a){if(this.ka||this.TT.ed(a)){var b=this.m.na.map;this.La=a;b&&(b.Mc(),this.Wg(),this.nB());if(this.m.na.Aa){var c=this.m.na.Aa.getElementsByTagName("table")[0]; if(c){for(var b=x.getElementsByClassName(c,"tranroute-plan-list"),c=x.getElementsByClassName(c,"trans_plan_desc"),e=0;e<c.length;e++)e!==a&&(c[e].style.display="none");for(c=0;c<b.length;c++)x.rc(b[c],"expand");c=x.getElementsByClassName(b[a],"trans_plan_desc")[0];"none"===c.style.display?(c.style.display="block",x.ib(b[a],"expand")):c.style.display="none"}}}},NI:function(){var a=this.m.na.map,b=this.ka.uf(),c=this.ka.ze(),e=this,f=0;this.Wg();var g=gb.tu(this.as),i=gb.tu(this.as);g.push(c.point); g.unshift(b.point);e.$&&e.$.bb&&(e.$.bb=s);for(var k=0,m=g.length;k<m;k++){var n=g[k];if(0===k)n=X.tk(a,n,b.title,dj),b.marker=n,this.ua.push(n);else if(k===g.length-1)n=X.tk(a,n,c.title,ej),c.marker=n,this.ua.push(n);else{n.uh?(n=X.XB(a,n,f),f++,n.uh=1):n=X.Fw(a,n);this.ua.push(n);var o=new Zc;o.es(new cd("\\u5220\\u9664\\u8be5\\u70b9",function(b,c,f){e.gR(f.mh-1);a.Jb(f)},{width:60}));n.cm(o);e.$.Xo.push(o)}n.mh=k;this.Wn&&(n.jc(),n.addEventListener("mouseover",function(){e.$.Bp||(e.$.Sm=q,e.$.mc?(e.$.mc.Pc("\\u62d6\\u52a8\\u4ee5\\u66f4\\u6539\\u8def\\u7ebf"), e.$.mc.show()):e.$.mc=X.Ww(),this.Gj(e.$.mc))}),n.addEventListener("mouseout",function(){this.Zs()&&this.Zs().aa();e.$.Sm=t}),n.addEventListener("dragend",function(a){var f=e.$.ks,k=this.mh;this.uh&&(f.uh=1);0<a.target.mh&&a.target.mh<g.length-1&&(i[k-1]=a.point,e.Sl.waypoints=i,e.ua.push(a.target));0===a.target.mh&&(b.point=a.point);a.target.mh===g.length-1&&(c.point=a.point);e.uo();e.search(b.point,c.point,e.Sl)}));e.$&&e.$.ke&&e.$.ke.push(n)}f=[b];this.$&&this.$.yn&&(f=f.concat(this.$.yn));f=f.concat([c]); this.Ca(Y.Dn,f)},LI:function(){for(var a=this.m.na.map,b=-1<this.La?this.ka.ed(this.La):this.ka.ed(0),c=this.ka.uf(),e=this.ka.ze(),f=this,g=gb.tu(f.as).length,i=[],k,m=0,n=b.Ec.length;m<n;m++){var o=b.Ec[m],p=o.legIndex;k=X.dm(a,o.points,f.PS);b.Xh[m].aj=k;k.legIndex=p;k.cl=o.stops[0].points;k.qj=o.stops.points;this.ua.push(k);o=k.le();i.push(o.Ae());i.push(o.sf());this.Wn&&20>g&&(k.addEventListener("mousemove",function(b){f.$.Bp||(f.$.Sm?f.$.bb&&f.$.bb.aa():(f.$.Uo=this,f.$.bb?f.ZH(a,b.pixel,f.$.fc)|| (f.$.bb.show(),f.$.bb.va(b.point),f.$.mc.Pc("\\u62d6\\u52a8\\u4ee5\\u66f4\\u6539\\u8def\\u7ebf"),f.$.mc.show(),f.$.bb.Gj(f.$.mc)):(f.$.bb=X.Fw(a,b.point),f.$.bb.jc(),f.$.bb.addEventListener("dragging",function(a){f.$.bb&&f.$.bb.va&&f.$.bb.va(a.point)}),f.$.bb.addEventListener("dragend",function(a){var b=f.$.Uo.legIndex;this.va(a.point);f.uo();var g=gb.tu(f.as);0===g.length?g=[a.point]:0===b?g.unshift(a.point):g.splice(b,0,a.point);f.ua.push(f.$.bb);f.Sl.waypoints=g;f.search(c.point,e.point,f.Sl);f.$.bb= s}),f.$.mc||(f.$.mc=X.Ww()),a.Ra(f.$.bb))))}),k.addEventListener("mouseout",function(){f.$.bb&&f.$.bb.aa()}));f.$&&f.$.ke&&f.$.ke.push(k)}this.m.na.wg&&a.Qg(i,{margins:[30,30,30,30]});this.Ca(Y.oq,b.Xh)},gR:function(a){var b=this.ka.uf(),c=this.ka.ze(),e=gb.tu(this.as);e.splice(a,1);this.Sl.waypoints=e;this.search(b.point,c.point,this.Sl)},H1:ca(),Zq:function(a,b,c){var e="";0===c&&(e+="padding-top:5px;");var f="nav-ed";0===c&&(f="nav-st");c=["<div style=\'"+e+"\'><div style=\'cursor:pointer;padding:2px 0 2px 0px;line-height:15px\'"]; c.push("onclick=\'"+b+"\'>");c.push("<span class=\'navtrans-navlist-icon "+f+"\'></span>");c.push("<div style=\'overflow:hidden;line-height:20px;\'>"+a);c.push("</div></div></div>");return c.join("")},mv:function(a,b,c,e){return\'<h1 style="margin:0;border-top:1px solid #e4e6e7;\'+(e?"border-bottom:1px solid #e4e6e7;padding:10px 0 10px 7px;":"padding:10px 0 9px 7px;")+"font:bold 16px "+J.fontFamily+\'"> \'+c+"\\u4ece"+a+" \\u524d\\u5f80 "+b+" \\u7684\\u8def\\u7ebf</h1>"},uv:function(a){return\'<span class="navtrans-navlist-icon \'+ (hf.Oj[a]?hf.Oj[a]:"")+\'"></span>\'},gL:function(a){if(a){var b=0<parseInt(a/3600,10)?parseInt(a/3600,10)+"\\u5c0f\\u65f6":"";return b+(b?parseInt(a%3600/60,10)+"\\u5206":0<parseInt(a/60,10)?parseInt(a/60,10)+"\\u5206":"")+(a%60+"\\u79d2")}return"\\u4e0d\\u8ba1"}});x.extend(jf.prototype,{gv:function(a){delete a.url;return new Li(a)}});x.extend(nf.prototype,{Fd:function(a,b,c){this.UL("web",this.PL(a,b,c))},SN:function(a,b,c){this.UL("web",this.PL(a,b,c))},fO:function(a,b){var c=this.af,e="";a&&a.BM&&a.name?(e=a.BM,e="latlng:"+e.lat+","+e.lng,e+="|name:"+a.name):e=(e=a.BM)?e.lat+","+e.lng:a.name?a.name:"";c[b]=e},PL:function(a,b,c){this.fO(a,"origin");this.fO(b,"destination");var c=this.af=x.object.extend(this.af,c),a=[],e="";if("undefined"===typeof c.origin||""===c.origin)c.origin="";var b={destination:t,mode:t},f;for(f in c)e= f+"="+c[f],a.push(e),"undefined"!==typeof b[f]&&(b[f]=q);this.mode=c.mode;b.mode===t&&(this.mode="driving",a.push("mode=driving"),b.mode=q);f=q;for(var g in b)f=f&&b[g];return f?a.join("&"):t},UL:function(a,b,c){b&&(b=Hi[a]+b+"&src=baidu|jsapi",Ua(7E3,{mode:this.mode}),"web"===a&&(b+="&output=html"),location.href=b,c&&c())}}); ');
